{
    "version": "https://jsonfeed.org/version/1",
    "title": "Tianciの小窝 • All posts by \"技术\" tag",
    "description": "一身清贫怎敢入繁华<br>两袖清风岂能误佳人",
    "home_page_url": "https://blog.lovetianci.cn",
    "items": [
        {
            "id": "https://blog.lovetianci.cn/DotNET/SqlSugar/",
            "url": "https://blog.lovetianci.cn/DotNET/SqlSugar/",
            "title": "SqlSugar的使用日常",
            "date_published": "2022-02-22T22:22:22.000Z",
            "content_html": "<h3 id=\"这两天从freesql转sqlsugar记录一些日常\"><a class=\"markdownIt-Anchor\" href=\"#这两天从freesql转sqlsugar记录一些日常\">#</a> 这两天从 FreeSql 转 SqlSugar，记录一些日常</h3>\n<a id=\"more\"></a>\n<h3 id=\"首先本地装了一个8028最新版本的mysql\"><a class=\"markdownIt-Anchor\" href=\"#首先本地装了一个8028最新版本的mysql\">#</a> 首先本地装了一个 8.0.28 最新版本的 MySQL</h3>\n<h3 id=\"然后项目中集成mysql和sqlsugar\"><a class=\"markdownIt-Anchor\" href=\"#然后项目中集成mysql和sqlsugar\">#</a> 然后项目中集成 MySQL 和 SqlSugar</h3>\n<p><img data-src=\"TianciAdminCode.png\" alt=\"项目结构\" title=\"项目结构\"></p>\n<h3 id=\"项目分层我是在放实体的datamodel层添加引用\"><a class=\"markdownIt-Anchor\" href=\"#项目分层我是在放实体的datamodel层添加引用\">#</a> 项目分层我是在放实体的 DataModel 层添加引用</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PackageReference</span> Include<span class=\"token operator\">=</span><span class=\"token string\">\"MySql.Data\"</span> Version<span class=\"token operator\">=</span><span class=\"token string\">\"8.0.28\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PackageReference</span> Include<span class=\"token operator\">=</span><span class=\"token string\">\"SqlSugarCore\"</span> Version<span class=\"token operator\">=</span><span class=\"token string\">\"5.0.5.4\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"然后处理代码逻辑是在dataservice层也就是接口实现所以在这层写上下文类\"><a class=\"markdownIt-Anchor\" href=\"#然后处理代码逻辑是在dataservice层也就是接口实现所以在这层写上下文类\">#</a> 然后处理代码逻辑是在 DataService 层，也就是接口实现，所以在这层写上下文类</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">SqlSugar</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">DataService</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/// 数据库上下文类</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DbContext</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> ConnectionString <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">SqlSugarClient</span> <span class=\"token function\">GetInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> db <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SqlSugarClient</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ConnectionConfig</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                ConnectionString <span class=\"token operator\">=</span> ConnectionString<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                DbType <span class=\"token operator\">=</span> DbType<span class=\"token punctuation\">.</span>MySql<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                IsAutoCloseConnection <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 自动释放数据务，如果存在事务，在事务结束后释放</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                InitKeyType <span class=\"token operator\">=</span> InitKeyType<span class=\"token punctuation\">.</span>Attribute<span class=\"token comment\">// 从实体特性中读取主键自增列信息</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">return</span> db<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"在startup中configureservices里注入\"><a class=\"markdownIt-Anchor\" href=\"#在startup中configureservices里注入\">#</a> 在 Startup 中 ConfigureServices 里注入</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 连接 MySQL 数据库，添加数据库上下文</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>DataService<span class=\"token punctuation\">.</span>DbContext<span class=\"token punctuation\">.</span>ConnectionString <span class=\"token operator\">=</span> Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">GetConnectionString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MySQLConnection\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"appsettingsjson添加本地数据库连接字符串\"><a class=\"markdownIt-Anchor\" href=\"#appsettingsjson添加本地数据库连接字符串\">#</a> appsettings.json 添加本地数据库连接字符串</h3>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token property\">\"ConnectionStrings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property\">\"MySQLConnection\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"server=127.0.0.1;uid=root;pwd=123456;port=3306;database=world;SslMode=None\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"今天本打算写一个树形结构的菜单层级处理看到sqlsugar官方文档有自带的方法totree\"><a class=\"markdownIt-Anchor\" href=\"#今天本打算写一个树形结构的菜单层级处理看到sqlsugar官方文档有自带的方法totree\">#</a> 今天本打算写一个树形结构的菜单层级处理，看到 SqlSugar 官方文档有自带的方法 ToTree</h3>\n<h3 id=\"简单使用一下以下是数据库结构\"><a class=\"markdownIt-Anchor\" href=\"#简单使用一下以下是数据库结构\">#</a> 简单使用一下，以下是数据库结构</h3>\n<p><img data-src=\"Table.png\" alt=\"表结构\" title=\"表结构\"></p>\n<h3 id=\"实体类数据代码\"><a class=\"markdownIt-Anchor\" href=\"#实体类数据代码\">#</a> 实体类数据代码</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">SqlSugar</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">DataModel<span class=\"token punctuation\">.</span>Table</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/// 菜单表</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">[</span><span class=\"token function\">SugarTable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"menuinfo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">partial</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MenuInfo</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">/// 主键</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">[</span><span class=\"token function\">SugarColumn</span><span class=\"token punctuation\">(</span>IsPrimaryKey <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> IsIdentity <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> Id <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">/// 菜单名称</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary>           </span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> MenuName <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">/// 父级 Id</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary>           </span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span><span class=\"token punctuation\">?</span></span> ParentId <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">/// 不验证数据库，做树形结构使用</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">[</span>SqlSugar<span class=\"token punctuation\">.</span><span class=\"token function\">SugarColumn</span><span class=\"token punctuation\">(</span>IsIgnore <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">List<span class=\"token punctuation\">&lt;</span>MenuInfo<span class=\"token punctuation\">></span></span> Child <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"示例代码\"><a class=\"markdownIt-Anchor\" href=\"#示例代码\">#</a> 示例代码</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> db <span class=\"token operator\">=</span> DbContext<span class=\"token punctuation\">.</span><span class=\"token function\">GetInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// 首次连接数据库获取数据不计算在耗时之内</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    db<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Queryable</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>MenuInfo<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToJson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//SqlSugar 自带树形结构</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">Stopwatch</span> sw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Stopwatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    sw<span class=\"token punctuation\">.</span><span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tree <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Queryable</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>MenuInfo<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToTree</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>Child<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>ParentId<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> json <span class=\"token operator\">=</span> JsonConvert<span class=\"token punctuation\">.</span><span class=\"token function\">SerializeObject</span><span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    sw<span class=\"token punctuation\">.</span><span class=\"token function\">Stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">//Linq 自带 Foreach 实现递归遍历树形结构</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\">Stopwatch</span> sw2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Stopwatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    sw2<span class=\"token punctuation\">.</span><span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> list <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Queryable</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>MenuInfo<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    list<span class=\"token punctuation\">.</span><span class=\"token function\">ForEach</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>Child <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">Where</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>ParentId <span class=\"token operator\">==</span> s<span class=\"token punctuation\">.</span>Id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tree2 <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span>Count <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token punctuation\">?</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">Where</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>ParentId <span class=\"token operator\">==</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">OrderBy</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>ParentId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">FirstOrDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ParentId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> json2 <span class=\"token operator\">=</span> JsonConvert<span class=\"token punctuation\">.</span><span class=\"token function\">SerializeObject</span><span class=\"token punctuation\">(</span>tree2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    sw2<span class=\"token punctuation\">.</span><span class=\"token function\">Stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    _logger<span class=\"token punctuation\">.</span><span class=\"token function\">LogInformation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SqlSugar耗时：&#123;0&#125;ms，数据：&#123;1&#125;\"</span><span class=\"token punctuation\">,</span> sw<span class=\"token punctuation\">.</span>ElapsedTicks <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">decimal</span><span class=\"token punctuation\">)</span>Stopwatch<span class=\"token punctuation\">.</span>Frequency <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//SqlSugar</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    _logger<span class=\"token punctuation\">.</span><span class=\"token function\">LogInformation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Linq Foreach耗时：&#123;0&#125;ms，数据：&#123;1&#125;\"</span><span class=\"token punctuation\">,</span> sw2<span class=\"token punctuation\">.</span>ElapsedTicks <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">decimal</span><span class=\"token punctuation\">)</span>Stopwatch<span class=\"token punctuation\">.</span>Frequency <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> json2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//Linq Foreach</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">//SqlSugar 的性能没有 Linq Foreach 高</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"运行五次并打印日志\"><a class=\"markdownIt-Anchor\" href=\"#运行五次并打印日志\">#</a> 运行五次并打印日志</h3>\n<pre><code class=\"language-log\">SqlSugar耗时：14.0168000ms\nLinq Foreach耗时：7.8033000ms\nSqlSugar耗时：1.6285000ms\nLinq Foreach耗时：1.0115000ms\nSqlSugar耗时：0.8813000ms\nLinq Foreach耗时：0.7391000ms\nSqlSugar耗时：4.4206000ms\nLinq Foreach耗时：4.1635000ms\nSqlSugar耗时：1.015000ms\nLinq Foreach耗时：0.8329000ms\n</code></pre>\n<h3 id=\"结论sqlsugar这个totree方法处理树形结构很方便但是实际性能foreach要好一丢丢\"><a class=\"markdownIt-Anchor\" href=\"#结论sqlsugar这个totree方法处理树形结构很方便但是实际性能foreach要好一丢丢\">#</a> 结论：SqlSugar 这个 ToTree 方法处理树形结构很方便，但是实际性能 Foreach 要好一丢丢</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Log4net/",
            "url": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Log4net/",
            "title": ".NET Core集成Log4net",
            "date_published": "2022-02-19T15:00:00.000Z",
            "content_html": "<h3 id=\"项目中常用的日志组件为log4net今天记录一下最简单集成log4net的方法\"><a class=\"markdownIt-Anchor\" href=\"#项目中常用的日志组件为log4net今天记录一下最简单集成log4net的方法\">#</a> 项目中常用的日志组件为 Log4net，今天记录一下最简单集成 Log4net 的方法</h3>\n<a id=\"more\"></a>\n<h3 id=\"准备工作\"><a class=\"markdownIt-Anchor\" href=\"#准备工作\">#</a> 准备工作：</h3>\n<ul>\n<li>创建 WebAPI 项目，<span class=\"exturl\" data-url=\"aHR0cDovL3huLS0ycnF6MTNnMzNhbzMzZHRlYS5ORVQ=\">这边使用的.NET</span> Core 3.1</li>\n<li>安装 Nuget 包：Microsoft.Extensions.Logging.Log4Net.AspNetCore</li>\n<li>添加 Log4net.Config 配置文件</li>\n</ul>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>log4net</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>RollingAppender<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>log4net.Appender.RollingFileAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 指定日志文件保存的目录 --></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>file</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>log\\<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 追加日志内容 --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appendToFile</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 可以为：Once|Size|Date|Composite--></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">&lt;!--Compoosite 为 Size 和 Date 的组合 --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rollingStyle</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Composite<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 设置为 true，当前最新日志文件名永远为 file 字节中的名字 --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>staticLogFileName</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 当备份文件时，备份文件的名称及后缀名 --></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>datePattern</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>yyyyMMdd<span class=\"token punctuation\">'</span>.log<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 日志最大个数 --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">&lt;!--rollingStyle 节点为 Size 时，只能有 value 个日志 --></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">&lt;!--rollingStyle 节点为 Composie 时，每天有 value 个日志 --></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maxSizeRollBackups</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 可用的单位：KB|MB|GB--></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maximumFileSize</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5MB<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>log4net.Filter.LevelRangeFilter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>LevelMin<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ALL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>param</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>LevelMax<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>FATAL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>layout</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>log4net.Layout.PatternLayout<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>conversionPattern</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>%date [%thread] %-5level %logger [%property&#123;NDC&#125;] - %message%newline<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>layout</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>priority</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ALL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>level</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ALL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>RollingAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>log4net</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h3 id=\"在programcs中createhostbuilder代码块添加代码\"><a class=\"markdownIt-Anchor\" href=\"#在programcs中createhostbuilder代码块添加代码\">#</a> 在 Program.cs 中 CreateHostBuilder 代码块添加代码</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">IHostBuilder</span> <span class=\"token function\">CreateHostBuilder</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> args<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Host<span class=\"token punctuation\">.</span><span class=\"token function\">CreateDefaultBuilder</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token comment\">// 添加日志组件</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">ConfigureLogging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>hostContext<span class=\"token punctuation\">,</span> logger<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>          <span class=\"token comment\">//logger.ClearProviders ();// 清除系统默认日志</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>          <span class=\"token comment\">//logger.AddFilter(\"System\", LogLevel.Warning);</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>          <span class=\"token comment\">//logger.AddFilter(\"Microsoft\", LogLevel.Warning);</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          logger<span class=\"token punctuation\">.</span><span class=\"token function\">AddLog4Net</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Log4net.Config\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">ConfigureWebHostDefaults</span><span class=\"token punctuation\">(</span>webBuilder <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>          webBuilder<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">UseStartup</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>Startup<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"接下来就可以在控制器或者接口实现去使用构造函数注入了\"><a class=\"markdownIt-Anchor\" href=\"#接下来就可以在控制器或者接口实现去使用构造函数注入了\">#</a> 接下来就可以在控制器或者接口实现去使用构造函数注入了</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 控制器内使用</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token class-name\">ILogger<span class=\"token punctuation\">&lt;</span>FileController<span class=\"token punctuation\">></span></span> _logger<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token function\">FileController</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ILogger<span class=\"token punctuation\">&lt;</span>FileController<span class=\"token punctuation\">></span></span> logger<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    _logger <span class=\"token operator\">=</span> logger<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    _logger<span class=\"token punctuation\">.</span><span class=\"token function\">LogError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is FileController Log\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"运行即可看到项目生成目录多了一个log文件夹以及日志文件\"><a class=\"markdownIt-Anchor\" href=\"#运行即可看到项目生成目录多了一个log文件夹以及日志文件\">#</a> 运行即可看到项目生成目录多了一个 log 文件夹以及日志文件</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/PDF_Excel/",
            "url": "https://blog.lovetianci.cn/DotNET/PDF_Excel/",
            "title": ".NET Core导出PDF和Excel",
            "date_published": "2021-12-30T14:00:00.000Z",
            "content_html": "<h3 id=\"关于生成pdf和excel文件的最简单方法\"><a class=\"markdownIt-Anchor\" href=\"#关于生成pdf和excel文件的最简单方法\">#</a> 关于生成 PDF 和 Excel 文件的最简单方法</h3>\n<a id=\"more\"></a>\n<h3 id=\"导出excel需要导入epplus包\"><a class=\"markdownIt-Anchor\" href=\"#导出excel需要导入epplus包\">#</a> 导出 Excel 需要导入 EPPlus 包</h3>\n<h3 id=\"导入命名空间\"><a class=\"markdownIt-Anchor\" href=\"#导入命名空间\">#</a> 导入命名空间</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">OfficeOpenXml</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"示例代码如下\"><a class=\"markdownIt-Anchor\" href=\"#示例代码如下\">#</a> 示例代码如下</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// 请求接口直接下载 Excel</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>HttpGet<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span>IActionResult<span class=\"token punctuation\">></span></span> <span class=\"token function\">GetExcel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> fileName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token expression language-csharp\">Guid<span class=\"token punctuation\">.</span><span class=\"token function\">NewGuid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">.xlsx\"</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MemoryStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    ExcelPackage<span class=\"token punctuation\">.</span>LicenseContext <span class=\"token operator\">=</span> LicenseContext<span class=\"token punctuation\">.</span>NonCommercial<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">using</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ExcelPackage</span> package <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ExcelPackage</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">// 添加 worksheet</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\">ExcelWorksheet</span> worksheet <span class=\"token operator\">=</span> package<span class=\"token punctuation\">.</span>Workbook<span class=\"token punctuation\">.</span>Worksheets<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DeliveryReceiptSignLog\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">// 添加头</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//worksheet.Cells.Style.ShrinkToFit = true;// 单元格自动适应大小</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">=</span> <span class=\"token string\">\"跟踪码\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">=</span> <span class=\"token string\">\"收款金额\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">=</span> <span class=\"token string\">\"收款方式\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">=</span> <span class=\"token string\">\"POS流水号\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">=</span> <span class=\"token string\">\"终端号\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Width <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Width <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Width <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Width <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Width <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        worksheet<span class=\"token punctuation\">.</span><span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Style<span class=\"token punctuation\">.</span>Numberformat<span class=\"token punctuation\">.</span>Format <span class=\"token operator\">=</span> <span class=\"token string\">\"￥#,##0.00\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 金额格式</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// 从第二行第三列到第一万行第三列，三列被设置为下拉框</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> unitmeasure <span class=\"token operator\">=</span> worksheet<span class=\"token punctuation\">.</span>DataValidations<span class=\"token punctuation\">.</span><span class=\"token function\">AddListValidation</span><span class=\"token punctuation\">(</span>worksheet<span class=\"token punctuation\">.</span>Cells<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Address<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        unitmeasure<span class=\"token punctuation\">.</span>Formula<span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"现金\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        unitmeasure<span class=\"token punctuation\">.</span>Formula<span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"刷卡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        package<span class=\"token punctuation\">.</span><span class=\"token function\">Save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    stream<span class=\"token punctuation\">.</span>Position <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> Task<span class=\"token punctuation\">.</span><span class=\"token function\">FromResult</span><span class=\"token punctuation\">(</span><span class=\"token function\">File</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">,</span> <span class=\"token string\">\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"</span><span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"net-core导出pdf需要导入itextsharplgplv2core\"><a class=\"markdownIt-Anchor\" href=\"#net-core导出pdf需要导入itextsharplgplv2core\">#</a> .NET Core 导出 PDF 需要导入 iTextSharp.LGPLv2.Core</h3>\n<h3 id=\"导入命名空间-2\"><a class=\"markdownIt-Anchor\" href=\"#导入命名空间-2\">#</a> 导入命名空间</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">iTextSharp<span class=\"token punctuation\">.</span>text</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">iTextSharp<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>pdf</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"controller代码如下\"><a class=\"markdownIt-Anchor\" href=\"#controller代码如下\">#</a> Controller 代码如下</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// 直接获取文件（PDF）</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>HttpGet<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span>IActionResult<span class=\"token punctuation\">></span></span> <span class=\"token function\">GetPDF</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> fileName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">$\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span><span class=\"token expression language-csharp\">Guid<span class=\"token punctuation\">.</span><span class=\"token function\">NewGuid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">.pdf\"</span></span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">DataEntity</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataEntity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    data<span class=\"token punctuation\">.</span>TaskName <span class=\"token operator\">=</span> <span class=\"token string\">\"SHXH0514huangjinjin05142020/09/14-3\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    data<span class=\"token punctuation\">.</span>SiteName <span class=\"token operator\">=</span> <span class=\"token string\">\"浦东配送站\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> users <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>User<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">User</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            Id<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            OrderNo<span class=\"token operator\">=</span><span class=\"token string\">\"200911SHDF01634290\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            Route<span class=\"token operator\">=</span><span class=\"token string\">\"SHXH10b\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            FromToTime<span class=\"token operator\">=</span><span class=\"token string\">\"2020-09-13 13:33:00 14:33:00\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            Address<span class=\"token operator\">=</span><span class=\"token string\">\"上海 上海市 黄浦区南京东路街道9999999999999\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            Remark<span class=\"token operator\">=</span><span class=\"token string\">\"（生日快乐）\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            Count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            Amount<span class=\"token operator\">=</span><span class=\"token number\">0.01M</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">User</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            Id<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            OrderNo<span class=\"token operator\">=</span><span class=\"token string\">\"210831SHKF01938125\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            Route<span class=\"token operator\">=</span><span class=\"token string\">\"SHCN#2a\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            FromToTime<span class=\"token operator\">=</span><span class=\"token string\">\"2021-09-03 10:00:00 10:30:00\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            Address<span class=\"token operator\">=</span><span class=\"token string\">\"上海 上海市 徐汇区田林路140号\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            Remark<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            Count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            Amount<span class=\"token operator\">=</span><span class=\"token number\">0.00M</span><span class=\"token operator\">+</span><span class=\"token number\">6</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    data<span class=\"token punctuation\">.</span>users <span class=\"token operator\">=</span> users<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>PDFHelper<span class=\"token punctuation\">.</span><span class=\"token function\">GetPDF</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Length<span class=\"token operator\">></span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> stream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MemoryStream</span><span class=\"token punctuation\">(</span>PDFHelper<span class=\"token punctuation\">.</span><span class=\"token function\">GetPDF</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> Task<span class=\"token punctuation\">.</span><span class=\"token function\">FromResult</span><span class=\"token punctuation\">(</span><span class=\"token function\">File</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">,</span> <span class=\"token string\">\"application/pdf\"</span><span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"pdfhelpergetpdf代码全篇\"><a class=\"markdownIt-Anchor\" href=\"#pdfhelpergetpdf代码全篇\">#</a> PDFHelper.GetPDF 代码全篇</h3>\n<h3 id=\"需导入命名空间\"><a class=\"markdownIt-Anchor\" href=\"#需导入命名空间\">#</a> 需导入命名空间</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">iTextSharp<span class=\"token punctuation\">.</span>text</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">iTextSharp<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>pdf</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PDFHelper</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/// 返回字节</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/// &lt;param name=\"data\">&lt;/param></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token function\">GetPDF</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataEntity</span> data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// 生成 pdf</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token class-name\">Document</span> document <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Document</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">//var fileStream = new MemoryStream();</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> fileName <span class=\"token operator\">=</span> <span class=\"token string\">\"测试.pdf\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> fileStream <span class=\"token operator\">=</span> File<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//C:\\\\Users\\\\Tianci\\\\Desktop\\\\PDF\\\\</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\">PdfWriter</span> pw <span class=\"token operator\">=</span> PdfWriter<span class=\"token punctuation\">.</span><span class=\"token function\">GetInstance</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">,</span> fileStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">// 指定字体文件，IDENTITY_H：支持中文</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> fontpath <span class=\"token operator\">=</span> <span class=\"token string\">@\"C:\\Windows\\Fonts\\SIMHEI.TTF\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">BaseFont</span> customfont <span class=\"token operator\">=</span> BaseFont<span class=\"token punctuation\">.</span><span class=\"token function\">CreateFont</span><span class=\"token punctuation\">(</span>fontpath<span class=\"token punctuation\">,</span> BaseFont<span class=\"token punctuation\">.</span>IDENTITY_H<span class=\"token punctuation\">,</span> BaseFont<span class=\"token punctuation\">.</span>NOT_EMBEDDED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">// 设置字体颜色样式</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> baseFont <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Font</span><span class=\"token punctuation\">(</span>customfont<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token comment\">//System.Drawing.Color.Black</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            Color <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BaseColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 设置字体颜色</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            Size <span class=\"token operator\">=</span> <span class=\"token number\">8</span>  <span class=\"token comment\">// 字体大小</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 头部</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// 定义 table 行列数据</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">//PdfPTable tableRow_1 = new PdfPTable (1);  // 生成只有一列的行数据</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">//tableRow_1.DefaultCell.Border = Rectangle.NO_BORDER;  // 无边框</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token comment\">//tableRow_1.WidthPercentage = 100;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">//tableRow_1.DefaultCell.MinimumHeight = 80f; // 高度</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">//float [] headWidths_1 = new float [] &#123; 3000f &#125;; // 宽度</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token comment\">//tableRow_1.SetWidths(headWidths_1);</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token comment\">// 定义字体样式</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> headerStyle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Font</span><span class=\"token punctuation\">(</span>customfont<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            Color <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BaseColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//System.Drawing.Color.Black</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            Size <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token comment\">//var Row_1_Cell_1 = new PdfPCell (new Paragraph (\"配送任务单\", headerStyle));</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token comment\">//Row_1_Cell_1.HorizontalAlignment = Element.ALIGN_CENTER;// 居中</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token comment\">//tableRow_1.AddCell(Row_1_Cell_1);</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> head <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"配送任务单\"</span><span class=\"token punctuation\">,</span> headerStyle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        head<span class=\"token punctuation\">.</span>IndentationLeft <span class=\"token operator\">=</span> <span class=\"token number\">200f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> headerStyle2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Font</span><span class=\"token punctuation\">(</span>customfont<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>            Color <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BaseColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//System.Drawing.Color.Black</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            Size <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> para <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"任务名称：&#123;0&#125;            站点：&#123;1&#125;\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>TaskName<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>SiteName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> headerStyle2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        para<span class=\"token punctuation\">.</span>IndentationLeft <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">30f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> placeholder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"   \"</span><span class=\"token punctuation\">,</span> headerStyle2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 上方文字与表格相隔间距</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token class-name\">PdfPTable</span> tableRow_2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPTable</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span>TotalWidth <span class=\"token operator\">=</span> <span class=\"token number\">580f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span>LockedWidth <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span>DefaultCell<span class=\"token punctuation\">.</span>Border <span class=\"token operator\">=</span> Rectangle<span class=\"token punctuation\">.</span>NO_BORDER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span>WidthPercentage <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span>DefaultCell<span class=\"token punctuation\">.</span>MinimumHeight <span class=\"token operator\">=</span> <span class=\"token number\">80f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>        <span class=\"token comment\">//float[] headWidths_2 = new float[] &#123; 100f, 300f, 120f, 300f, 540f, 300f, 100f, 200f &#125;;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">float</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> headWidths_2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">float</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">50f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">220f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">140f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70f</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 搭配 TotalWidth 和 LockedWidth 使用</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">SetWidths</span><span class=\"token punctuation\">(</span>headWidths_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"序号\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>        Row_2_Cell_1<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span><span class=\"token comment\">// 文字居中</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        Row_2_Cell_1<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"跟踪代码\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>        Row_2_Cell_2<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>        Row_2_Cell_2<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"线路\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>        Row_2_Cell_3<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>        Row_2_Cell_3<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_4 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"配送时间\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>        Row_2_Cell_4<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        Row_2_Cell_4<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_5 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"地址\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>        Row_2_Cell_5<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        Row_2_Cell_5<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_6 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"备注\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>        Row_2_Cell_6<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>        Row_2_Cell_6<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_6<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_7 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"商品数\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>        Row_2_Cell_7<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>        Row_2_Cell_7<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_7<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> Row_2_Cell_8 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"应收金额\"</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        Row_2_Cell_8<span class=\"token punctuation\">.</span>HorizontalAlignment <span class=\"token operator\">=</span> Element<span class=\"token punctuation\">.</span>ALIGN_CENTER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>        Row_2_Cell_8<span class=\"token punctuation\">.</span>BackgroundColor <span class=\"token operator\">=</span> BaseColor<span class=\"token punctuation\">.</span>LightGray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>        tableRow_2<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>Row_2_Cell_8<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>placeholder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>para<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>placeholder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token comment\">//document.Add(tableRow_1);</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>tableRow_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 填充List数据</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre></pre></td></tr><tr><td data-num=\"124\"></td><td><pre></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>        <span class=\"token class-name\">Type</span> t <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 获得该类的 Type</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> data<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>            <span class=\"token class-name\">PdfPTable</span> tableRow_3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPTable</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span>TotalWidth <span class=\"token operator\">=</span> <span class=\"token number\">580f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span>LockedWidth <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span>DefaultCell<span class=\"token punctuation\">.</span>Border <span class=\"token operator\">=</span> Rectangle<span class=\"token punctuation\">.</span>NO_BORDER<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span>WidthPercentage <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span>DefaultCell<span class=\"token punctuation\">.</span>MinimumHeight <span class=\"token operator\">=</span> <span class=\"token number\">80f</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>            <span class=\"token comment\">//float[] headWidths_3 = new float[] &#123; 100f, 300f, 120f, 300f, 540f, 300f, 100f, 200f &#125;;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>            <span class=\"token class-name\"><span class=\"token keyword\">float</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> headWidths_3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">float</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">50f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">220f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">140f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70f</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>            tableRow_3<span class=\"token punctuation\">.</span><span class=\"token function\">SetWidths</span><span class=\"token punctuation\">(</span>headWidths_3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">PropertyInfo</span> pi <span class=\"token keyword\">in</span> t<span class=\"token punctuation\">.</span><span class=\"token function\">GetProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// 遍历属性值</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre>                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> <span class=\"token keyword\">value</span> <span class=\"token operator\">=</span> pi<span class=\"token punctuation\">.</span><span class=\"token function\">GetValue</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre>                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> txt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Paragraph</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">value</span><span class=\"token punctuation\">,</span> baseFont<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"142\"></td><td><pre>                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span>txt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>                tableRow_3<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>cell<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>            document<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>tableRow_3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>        <span class=\"token comment\">// 页脚</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre>        <span class=\"token class-name\">PDFFooter</span> footer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PDFFooter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>        footer<span class=\"token punctuation\">.</span><span class=\"token function\">OnEndPage</span><span class=\"token punctuation\">(</span>pw<span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>        document<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre>        fileStream<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>        fileStream<span class=\"token punctuation\">.</span><span class=\"token function\">Dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">GetFileStream</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre></pre></td></tr><tr><td data-num=\"159\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre>    <span class=\"token comment\">/// 文件转成字节</span></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>    <span class=\"token comment\">/// 并删除文件</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>    <span class=\"token comment\">/// 返回字节</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>    <span class=\"token comment\">/// &lt;param name=\"filePath\">&lt;/param></span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre>    <span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token function\">GetFileStream</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> filePath<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> byteBuffer <span class=\"token operator\">=</span> File<span class=\"token punctuation\">.</span><span class=\"token function\">ReadAllBytes</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>byteBuffer<span class=\"token punctuation\">.</span>Length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>File<span class=\"token punctuation\">.</span><span class=\"token function\">Exists</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre>                File<span class=\"token punctuation\">.</span><span class=\"token function\">Delete</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>            <span class=\"token keyword\">return</span> byteBuffer<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PDFFooter</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">PdfPageEventHelper</span></span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"181\"></td><td><pre>        <span class=\"token comment\">// write on top of document</span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnOpenDocument</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PdfWriter</span> writer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Document</span> document<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"183\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"184\"></td><td><pre>            <span class=\"token keyword\">base</span><span class=\"token punctuation\">.</span><span class=\"token function\">OnOpenDocument</span><span class=\"token punctuation\">(</span>writer<span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre>            <span class=\"token class-name\">PdfPTable</span> tabFot <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPTable</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">float</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">1F</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre>            tabFot<span class=\"token punctuation\">.</span>SpacingAfter <span class=\"token operator\">=</span> <span class=\"token number\">10F</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"187\"></td><td><pre>            <span class=\"token class-name\">PdfPCell</span> cell<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"188\"></td><td><pre>            <span class=\"token comment\">//tabFot.TotalWidth = 300F;</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre>            cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PdfPCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Phrase</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Header\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"190\"></td><td><pre>            tabFot<span class=\"token punctuation\">.</span><span class=\"token function\">AddCell</span><span class=\"token punctuation\">(</span>cell<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre>            tabFot<span class=\"token punctuation\">.</span><span class=\"token function\">WriteSelectedRows</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span>Top<span class=\"token punctuation\">,</span> writer<span class=\"token punctuation\">.</span>DirectContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"192\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre></pre></td></tr><tr><td data-num=\"194\"></td><td><pre>        <span class=\"token comment\">// write on start of each page</span></pre></td></tr><tr><td data-num=\"195\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnStartPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PdfWriter</span> writer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Document</span> document<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"196\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"197\"></td><td><pre>            <span class=\"token keyword\">base</span><span class=\"token punctuation\">.</span><span class=\"token function\">OnStartPage</span><span class=\"token punctuation\">(</span>writer<span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"198\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"199\"></td><td><pre></pre></td></tr><tr><td data-num=\"200\"></td><td><pre>        <span class=\"token comment\">// write on end of each page</span></pre></td></tr><tr><td data-num=\"201\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnEndPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PdfWriter</span> writer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Document</span> document<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"202\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"203\"></td><td><pre>            <span class=\"token keyword\">base</span><span class=\"token punctuation\">.</span><span class=\"token function\">OnEndPage</span><span class=\"token punctuation\">(</span>writer<span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"204\"></td><td><pre></pre></td></tr><tr><td data-num=\"205\"></td><td><pre>            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> footFont <span class=\"token operator\">=</span> FontFactory<span class=\"token punctuation\">.</span><span class=\"token function\">GetFont</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Lato\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.667f</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BaseColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//*</span></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"207\"></td><td><pre></pre></td></tr><tr><td data-num=\"208\"></td><td><pre>        <span class=\"token comment\">//write on close of document</span></pre></td></tr><tr><td data-num=\"209\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnCloseDocument</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PdfWriter</span> writer<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Document</span> document<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"210\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"211\"></td><td><pre>            <span class=\"token keyword\">base</span><span class=\"token punctuation\">.</span><span class=\"token function\">OnCloseDocument</span><span class=\"token punctuation\">(</span>writer<span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"212\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"213\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"214\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"215\"></td><td><pre></pre></td></tr><tr><td data-num=\"216\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span></pre></td></tr><tr><td data-num=\"217\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"218\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> Id <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"219\"></td><td><pre></pre></td></tr><tr><td data-num=\"220\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> OrderNo <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"221\"></td><td><pre></pre></td></tr><tr><td data-num=\"222\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Route <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"223\"></td><td><pre></pre></td></tr><tr><td data-num=\"224\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> FromToTime <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"225\"></td><td><pre></pre></td></tr><tr><td data-num=\"226\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Address <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"227\"></td><td><pre></pre></td></tr><tr><td data-num=\"228\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Remark <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"229\"></td><td><pre></pre></td></tr><tr><td data-num=\"230\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> Count <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"231\"></td><td><pre></pre></td></tr><tr><td data-num=\"232\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">decimal</span></span> Amount <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"233\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"234\"></td><td><pre></pre></td></tr><tr><td data-num=\"235\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DataEntity</span></pre></td></tr><tr><td data-num=\"236\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"237\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> TaskName <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"238\"></td><td><pre></pre></td></tr><tr><td data-num=\"239\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> SiteName <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"240\"></td><td><pre></pre></td></tr><tr><td data-num=\"241\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>User<span class=\"token punctuation\">></span></span> users <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>User<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"242\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"散会\"><a class=\"markdownIt-Anchor\" href=\"#散会\">#</a> 散会！！！</h3>\n<p><img data-src=\"dalao.gif\" alt=\"我怎么这么垃圾，我要有技术会是这鬼样？\" title=\"我怎么这么垃圾，我要有技术会是这鬼样？\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Other/Layui_First/",
            "url": "https://blog.lovetianci.cn/Other/Layui_First/",
            "title": "Layui小知识",
            "date_published": "2021-08-19T15:00:00.000Z",
            "content_html": "<h3 id=\"遇到的一些问题及解决方法\"><a class=\"markdownIt-Anchor\" href=\"#遇到的一些问题及解决方法\">#</a> 遇到的一些问题及解决方法</h3>\n<a id=\"more\"></a>\n<h3 id=\"首先定义layui需要的组件\"><a class=\"markdownIt-Anchor\" href=\"#首先定义layui需要的组件\">#</a> 首先定义 Layui 需要的组件</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"><span>t</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> $ <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>$<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">var</span> admin <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>admin<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">var</span> table <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>table<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">var</span> layer <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">var</span> form <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"下拉框从接口获取数据并赋值\"><a class=\"markdownIt-Anchor\" href=\"#下拉框从接口获取数据并赋值\">#</a> 下拉框从接口获取数据并赋值</h3>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>layui-input-inline<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">asp-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>绑定字段<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>绑定字段<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>绑定字段Mode<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">autocomplete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>off<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">lay-search</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      url<span class=\"token operator\">:</span> <span class=\"token string\">'@Url.Action(\"Create\", \"User\")'</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 请求地址（MVC 写法，方法，控制器名）</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      type<span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      dataType<span class=\"token operator\">:</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      contentType<span class=\"token operator\">:</span> <span class=\"token string\">\"application/json; charset=utf-8\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> k <span class=\"token keyword\">in</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".绑定字段Mode\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;option value='\"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>KeyName <span class=\"token operator\">+</span> <span class=\"token string\">\"'>\"</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token operator\">+</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/option>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 通过 class 添加选项</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            layui<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'form'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token keyword\">var</span> form <span class=\"token operator\">=</span> layui<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                form<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            layer<span class=\"token punctuation\">.</span><span class=\"token function\">msg</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>msg<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> icon<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> offset<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">:</span> <span class=\"token number\">3000</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"获取当前页面表单里面的数据\"><a class=\"markdownIt-Anchor\" href=\"#获取当前页面表单里面的数据\">#</a> 获取当前页面表单里面的数据</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token string\">'formId'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 通过表单 Id 取全部字段数据</span></pre></td></tr></table></figure><h3 id=\"获取子页面表单数据\"><a class=\"markdownIt-Anchor\" href=\"#获取子页面表单数据\">#</a> 获取子页面表单数据</h3>\n<h3 id=\"逻辑打开添加表单新页面create点提交调用post方法传值datavalue\"><a class=\"markdownIt-Anchor\" href=\"#逻辑打开添加表单新页面create点提交调用post方法传值datavalue\">#</a> 逻辑：打开添加表单（新页面 Create）点提交调用 POST 方法传值（dataValue）</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>layer<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  type<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  title<span class=\"token operator\">:</span> <span class=\"token string\">'添加用户'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  id<span class=\"token operator\">:</span> <span class=\"token string\">'CreateUser'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  content<span class=\"token operator\">:</span> <span class=\"token string\">'@Url.Action(\"Create\", \"User\")'</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 打开页面（MVC 写法，对应页面及 GET 方法，控制器名）</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  area<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'528px'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'468px'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  maxmin<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  btn<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'提交'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'关闭'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token function-variable function\">yes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> layero</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">var</span> iframeWindow <span class=\"token operator\">=</span> layero<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'iframe'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>contentWindow<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">var</span> dataValue <span class=\"token operator\">=</span> iframeWindow<span class=\"token punctuation\">.</span>layui<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"子页面form表单Id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 表单数据</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      url<span class=\"token operator\">:</span> <span class=\"token string\">'@Url.Action(\"Create\", \"User\")'</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 请求 POST 地址（MVC 写法，POST 方法，控制器名）</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      type<span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      dataType<span class=\"token operator\">:</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      data<span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>dataValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      contentType<span class=\"token operator\">:</span> <span class=\"token string\">\"application/json; charset=utf-8\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>responseCode <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          layer<span class=\"token punctuation\">.</span><span class=\"token function\">msg</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> offset<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">:</span> <span class=\"token number\">3000</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>          layer<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>          layer<span class=\"token punctuation\">.</span><span class=\"token function\">msg</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> icon<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> offset<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">:</span> <span class=\"token number\">3000</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  <span class=\"token function-variable function\">cancel</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token function-variable function\">end</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    table<span class=\"token punctuation\">.</span><span class=\"token function\">reload</span><span class=\"token punctuation\">(</span><span class=\"token string\">'当前页面列表TableId'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        page<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            curr<span class=\"token operator\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"给新页面表单赋默认值点击修改的场景\"><a class=\"markdownIt-Anchor\" href=\"#给新页面表单赋默认值点击修改的场景\">#</a> 给新页面表单赋默认值，点击修改的场景</h3>\n<h3 id=\"在控制器内edit对应的get方法返回值就可以了edit页面form表单绑定\"><a class=\"markdownIt-Anchor\" href=\"#在控制器内edit对应的get方法返回值就可以了edit页面form表单绑定\">#</a> 在控制器内 Edit 对应的 GET 方法返回值就可以了，Edit 页面 form 表单绑定</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Other/ML.NET/",
            "url": "https://blog.lovetianci.cn/Other/ML.NET/",
            "title": "初识ML.NET",
            "date_published": "2021-08-11T15:00:00.000Z",
            "content_html": "<h3 id=\"什么是mlnet\"><a class=\"markdownIt-Anchor\" href=\"#什么是mlnet\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3huLS1NTC0wMDJjbHN0MThnLk5FVA==\">什么是 ML.NET</span>，官方文档给出解释如下</h3>\n<a id=\"more\"></a>\n<ol>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL01MLk5FVA==\">ML.NET</span> 使你能够在联机或脱机场景中将机器学习添加到 .NET 应用程序中。 借助此功能，可以使用应用程序的可用数据进行自动预测。 机器学习应用程序利用数据中的模式来进行预测，而不需要进行显式编程。</p>\n</li>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL01MLk5FVA==\">ML.NET</span> 的核心是机器学习模型 。 该模型指定将输入数据转换为预测所需的步骤。 借助 <span class=\"exturl\" data-url=\"aHR0cDovL01MLk5FVA==\">ML.NET</span>，可以通过指定算法来训练自定义模型，也可以导入预训练的 TensorFlow 和 ONNX 模型。</p>\n</li>\n<li>\n<p>拥有模型后，可以将其添加到应用程序中进行预测。</p>\n</li>\n</ol>\n<h3 id=\"意思就是可以脱机训练模型让程序拥有自主判断意识\"><a class=\"markdownIt-Anchor\" href=\"#意思就是可以脱机训练模型让程序拥有自主判断意识\">#</a> 意思就是可以脱机训练模型，让程序拥有自主判断意识</h3>\n<h3 id=\"第一步创建一个机器学习模型在一个新项目中右击添加机器学习\"><a class=\"markdownIt-Anchor\" href=\"#第一步创建一个机器学习模型在一个新项目中右击添加机器学习\">#</a> 第一步创建一个机器学习模型，在一个新项目中右击添加机器学习</h3>\n<p><img data-src=\"create.png\" alt=\"添加机器学习\"></p>\n<h3 id=\"选择一个方案这边选择图像分类\"><a class=\"markdownIt-Anchor\" href=\"#选择一个方案这边选择图像分类\">#</a> 选择一个方案，这边选择图像分类</h3>\n<p><img data-src=\"programme.png\" alt=\"选择方案\"></p>\n<h3 id=\"选择环境因为没有azure上的数据所以选择本地文件夹\"><a class=\"markdownIt-Anchor\" href=\"#选择环境因为没有azure上的数据所以选择本地文件夹\">#</a> 选择环境，因为没有 Azure 上的数据所以选择本地文件夹</h3>\n<p><img data-src=\"environment.png\" alt=\"选择环境\"></p>\n<h3 id=\"这边选择的图片有点多分为四个类型\"><a class=\"markdownIt-Anchor\" href=\"#这边选择的图片有点多分为四个类型\">#</a> 这边选择的图片有点多，分为四个类型</h3>\n<p><img data-src=\"data.png\" alt=\"选择数据\"></p>\n<h3 id=\"点击训练如果图片太多训练时间也会变长这边已经训练好了\"><a class=\"markdownIt-Anchor\" href=\"#点击训练如果图片太多训练时间也会变长这边已经训练好了\">#</a> 点击训练，如果图片太多训练时间也会变长，这边已经训练好了</h3>\n<p><img data-src=\"train.png\" alt=\"开始训练模型\"></p>\n<h3 id=\"训练完成可以选择一张本地图片来进行分析\"><a class=\"markdownIt-Anchor\" href=\"#训练完成可以选择一张本地图片来进行分析\">#</a> 训练完成可以选择一张本地图片来进行分析</h3>\n<p><img data-src=\"assessment.png\" alt=\"分析图片\"></p>\n<h3 id=\"最后可以将代码添加到本地查看运行逻辑以及生成的文件\"><a class=\"markdownIt-Anchor\" href=\"#最后可以将代码添加到本地查看运行逻辑以及生成的文件\">#</a> 最后可以将代码添加到本地，查看运行逻辑以及生成的文件</h3>\n<p><img data-src=\"code.png\" alt=\"添加代码\"></p>\n<h3 id=\"打开consoleappprogramcs文件修改\"><a class=\"markdownIt-Anchor\" href=\"#打开consoleappprogramcs文件修改\">#</a> 打开 ConsoleApp.Program.cs 文件修改</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">ModelInput</span> sampleData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ModelInput</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  ImageSource <span class=\"token operator\">=</span> <span class=\"token string\">\"可填本地任意图片路径\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"我这边下载了很多图片进行循环分析\"><a class=\"markdownIt-Anchor\" href=\"#我这边下载了很多图片进行循环分析\">#</a> 我这边下载了很多图片进行循环分析</h3>\n<p><img data-src=\"console.png\" alt=\"输出结果\"></p>\n<h3 id=\"最后一共五十张图片误判11张想要识别更加精确就得添加更多图片识别更多细节进行分析\"><a class=\"markdownIt-Anchor\" href=\"#最后一共五十张图片误判11张想要识别更加精确就得添加更多图片识别更多细节进行分析\">#</a> 最后一共五十张图片，误判 11 张，想要识别更加精确就得添加更多图片识别更多细节进行分析</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Other/Hexo_Appveyor/",
            "url": "https://blog.lovetianci.cn/Other/Hexo_Appveyor/",
            "title": "Appveyor持续集成Hexo",
            "date_published": "2021-08-06T18:00:00.000Z",
            "content_html": "<h3 id=\"学习appveyor持续集成hexo并配置github-pages\"><a class=\"markdownIt-Anchor\" href=\"#学习appveyor持续集成hexo并配置github-pages\">#</a> 学习 AppVeyor 持续集成 Hexo 并配置 GitHub Pages</h3>\n<a id=\"more\"></a>\n<h3 id=\"创建项目在-projects-页面选择你的博客源码仓库\"><a class=\"markdownIt-Anchor\" href=\"#创建项目在-projects-页面选择你的博客源码仓库\">#</a> 创建项目，在 /projects 页面选择你的博客源码仓库</h3>\n<p><img data-src=\"project.png\" alt=\"创建项目\"></p>\n<h3 id=\"点击项目中-settings-选项卡如果项目分支不是默认的修改-default-branch\"><a class=\"markdownIt-Anchor\" href=\"#点击项目中-settings-选项卡如果项目分支不是默认的修改-default-branch\">#</a> 点击项目中 SETTINGS 选项卡，如果项目分支不是默认的，修改 Default branch</h3>\n<h3 id=\"再点击-environment-栏目设置4个环境变量\"><a class=\"markdownIt-Anchor\" href=\"#再点击-environment-栏目设置4个环境变量\">#</a> 再点击 Environment 栏目，设置 4 个环境变量：</h3>\n<table>\n<thead>\n<tr>\n<th>name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>STATIC_SITE_REPO</td>\n<td>静态网址文件存放 git 地址</td>\n</tr>\n<tr>\n<td>TARGET_BRANCH</td>\n<td>分支（默认 master）</td>\n</tr>\n<tr>\n<td>GIT_USER_EMAIL</td>\n<td>git 账号</td>\n</tr>\n<tr>\n<td>GIT_USER_NAME</td>\n<td>git 名称</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"github-添加access-token\"><a class=\"markdownIt-Anchor\" href=\"#github-添加access-token\">#</a> GitHub 添加 Access Token</h3>\n<h3 id=\"在httpsciappveyorcomtoolsencrypt页面加密\"><a class=\"markdownIt-Anchor\" href=\"#在httpsciappveyorcomtoolsencrypt页面加密\">#</a> 在<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jaS5hcHB2ZXlvci5jb20vdG9vbHMvZW5jcnlwdA==\"> https://ci.appveyor.com/tools/encrypt</span> 页面加密</h3>\n<h3 id=\"配置ci项目根目录添加appveyoryml\"><a class=\"markdownIt-Anchor\" href=\"#配置ci项目根目录添加appveyoryml\">#</a> 配置 CI，项目根目录添加 appveyor.yml</h3>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">clone_depth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">access_token</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token key atrule\">secure</span><span class=\"token punctuation\">:</span> You Access Token</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">matrix</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">nodejs_version</span><span class=\"token punctuation\">:</span> \"12\" //因为node 14版本生成页面和文件为空，这里改为12版本</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token key atrule\">install</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ps</span><span class=\"token punctuation\">:</span> Install<span class=\"token punctuation\">-</span>Product node $env<span class=\"token punctuation\">:</span>nodejs_version</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">-</span> node <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">-</span> npm <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">-</span> npm install</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">-</span> npm install hexo<span class=\"token punctuation\">-</span>cli <span class=\"token punctuation\">-</span>g</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token key atrule\">build_script</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">-</span> hexo generate</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token key atrule\">artifacts</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> public</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token key atrule\">on_success</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global credential.helper store</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ps</span><span class=\"token punctuation\">:</span> Add<span class=\"token punctuation\">-</span>Content \"$env<span class=\"token punctuation\">:</span>USERPROFILE\\.git<span class=\"token punctuation\">-</span>credentials\" \"https<span class=\"token punctuation\">:</span>//$($env<span class=\"token punctuation\">:</span>access_token)<span class=\"token punctuation\">:</span>x<span class=\"token punctuation\">-</span>oauth<span class=\"token punctuation\">-</span>basic@github.com`n\"</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.email \"%GIT_USER_EMAIL%\"</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.name \"%GIT_USER_NAME%\"</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">-</span> git clone <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>depth 5 <span class=\"token punctuation\">-</span>q <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>branch=%TARGET_BRANCH% %STATIC_SITE_REPO% %TEMP%\\static<span class=\"token punctuation\">-</span>site</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">-</span> cd %TEMP%\\static<span class=\"token punctuation\">-</span>site</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">-</span> del * /f /q</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">-</span> for /d %%p IN (<span class=\"token important\">*)</span> do rmdir \"%%p\" /s /q</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">-</span> SETLOCAL EnableDelayedExpansion &amp; robocopy \"%APPVEYOR_BUILD_FOLDER%\\public\" \"%TEMP%\\static<span class=\"token punctuation\">-</span>site\" /e &amp; IF <span class=\"token tag\">!ERRORLEVEL</span><span class=\"token tag\">!</span> EQU 1 (exit 0) ELSE (IF <span class=\"token tag\">!ERRORLEVEL</span><span class=\"token tag\">!</span> EQU 3 (exit 0) ELSE (exit 1))</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">-</span> git add <span class=\"token punctuation\">-</span>A</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">-</span> git commit <span class=\"token punctuation\">-</span>m \"Update Static Site\"</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">-</span> git push origin %TARGET_BRANCH%</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">-</span> appveyor AddMessage \"Static Site Updated\"</pre></td></tr></table></figure><h3 id=\"最后代码提交到gitappveyor会自动接收到更新并build提交到指定git仓库\"><a class=\"markdownIt-Anchor\" href=\"#最后代码提交到gitappveyor会自动接收到更新并build提交到指定git仓库\">#</a> 最后代码提交到 Git，AppVeyor 会自动接收到更新并 build 提交到指定 Git 仓库</h3>\n<h3 id=\"之后更新博客以及代码只需要push即可\"><a class=\"markdownIt-Anchor\" href=\"#之后更新博客以及代码只需要push即可\">#</a> 之后更新博客以及代码只需要 push 即可</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Jwt/",
            "url": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Jwt/",
            "title": "学习.NET Core Jwt授权与鉴权",
            "date_published": "2021-03-03T01:00:00.000Z",
            "content_html": "<h3 id=\"大晚上写的博客内容不是很细致记录一个简单的过程\"><a class=\"markdownIt-Anchor\" href=\"#大晚上写的博客内容不是很细致记录一个简单的过程\">#</a> 大晚上写的博客，内容不是很细致，记录一个简单的过程</h3>\n<a id=\"more\"></a>\n<h3 id=\"首先安装jwt所需的nuget包\"><a class=\"markdownIt-Anchor\" href=\"#首先安装jwt所需的nuget包\">#</a> 首先安装 jwt 所需的 Nuget 包</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Microsoft<span class=\"token punctuation\">.</span>AspNetCore<span class=\"token punctuation\">.</span>Authentication<span class=\"token punctuation\">.</span>JwtBearer</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>System<span class=\"token punctuation\">.</span>ldentityModel<span class=\"token punctuation\">.</span>Tokens<span class=\"token punctuation\">.</span>Jwt</pre></td></tr></table></figure><p><img data-src=\"Jwt_Nuget.png\" alt=\"Nuget\"></p>\n<h3 id=\"根据账户生成token的方法\"><a class=\"markdownIt-Anchor\" href=\"#根据账户生成token的方法\">#</a> 根据账户生成 token 的方法</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// 获取 token</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/// &lt;param name=\"username\">&lt;/param></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">GetToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> username<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">IsNullOrEmpty</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> claims <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Claim</span><span class=\"token punctuation\">(</span>JwtRegisteredClaimNames<span class=\"token punctuation\">.</span>Sub<span class=\"token punctuation\">,</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Claim</span><span class=\"token punctuation\">(</span>JwtRegisteredClaimNames<span class=\"token punctuation\">.</span>Jti<span class=\"token punctuation\">,</span>Guid<span class=\"token punctuation\">.</span><span class=\"token function\">NewGuid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> key <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SymmetricSecurityKey</span><span class=\"token punctuation\">(</span>Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetBytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SDMC-CJAS1-SAD-DFSFA-SADHJVF-VF\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> creds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SigningCredentials</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> SecurityAlgorithms<span class=\"token punctuation\">.</span>HmacSha256<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> token <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">JwtSecurityToken</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token named-parameter punctuation\">issuer</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Admin\"</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 签发人</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            audience<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Admin\"</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 受众</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            claims<span class=\"token punctuation\">:</span> claims<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token named-parameter punctuation\">expires</span><span class=\"token punctuation\">:</span> DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span><span class=\"token function\">AddMinutes</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 过期时间</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            signingCredentials<span class=\"token punctuation\">:</span> creds</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">JwtSecurityTokenHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">WriteToken</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"账号不存在\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"configureservices添加jwt验证\"><a class=\"markdownIt-Anchor\" href=\"#configureservices添加jwt验证\">#</a> ConfigureServices 添加 JWT 验证</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>services<span class=\"token punctuation\">.</span><span class=\"token function\">AddAuthentication</span><span class=\"token punctuation\">(</span>JwtBearerDefaults<span class=\"token punctuation\">.</span>AuthenticationScheme<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">AddJwtBearer</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        options<span class=\"token punctuation\">.</span>TokenValidationParameters <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">TokenValidationParameters</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            ValidateIssuer <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 是否验证 Issuer</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            ValidateAudience <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 是否验证 Audience</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            ValidateLifetime <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 是否验证失效时间</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            ClockSkew <span class=\"token operator\">=</span> TimeSpan<span class=\"token punctuation\">.</span><span class=\"token function\">FromSeconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            ValidateIssuerSigningKey <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 是否验证 SecurityKey</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            ValidAudience <span class=\"token operator\">=</span> <span class=\"token string\">\"Admin\"</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//Audience</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            ValidIssuer <span class=\"token operator\">=</span> <span class=\"token string\">\"Admin\"</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//Issuer，这两项和前面签发 jwt 的设置一致</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            IssuerSigningKey <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SymmetricSecurityKey</span><span class=\"token punctuation\">(</span>Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetBytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SDMC-CJAS1-SAD-DFSFA-SADHJVF-VF\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// 拿到 SecurityKey</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        options<span class=\"token punctuation\">.</span>Events <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">JwtBearerEvents</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token comment\">// 此处为权限验证失败后触发的事件</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>            OnChallenge <span class=\"token operator\">=</span> context <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token comment\">// 此处代码为终止.Net Core 默认的返回类型和数据结果，这个很重要哦，必须</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>                context<span class=\"token punctuation\">.</span><span class=\"token function\">HandleResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                <span class=\"token comment\">// 自定义自己想要返回的数据结果         </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> payload <span class=\"token operator\">=</span> JsonConvert<span class=\"token punctuation\">.</span><span class=\"token function\">SerializeObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token punctuation\">&#123;</span> code <span class=\"token operator\">=</span> <span class=\"token number\">401</span><span class=\"token punctuation\">,</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">&#123;</span> msg <span class=\"token operator\">=</span> <span class=\"token string\">\"Token过期，请重新登录!!!\"</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token comment\">// 自定义返回的数据类型</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span>ContentType <span class=\"token operator\">=</span> <span class=\"token string\">\"application/json\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>                <span class=\"token comment\">// 自定义返回状态码，默认为 401 我这里改成 200</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span>StatusCode <span class=\"token operator\">=</span> StatusCodes<span class=\"token punctuation\">.</span>Status401Unauthorized<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token comment\">// 输出 Json 数据结果</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span><span class=\"token function\">WriteAsync</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token keyword\">return</span> Task<span class=\"token punctuation\">.</span><span class=\"token function\">FromResult</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"configure添加jwt鉴权\"><a class=\"markdownIt-Anchor\" href=\"#configure添加jwt鉴权\">#</a> Configure 添加 jwt 鉴权</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//jwt 鉴权</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">UseAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 使用跨域</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>app<span class=\"token punctuation\">.</span><span class=\"token function\">UseHttpsRedirection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">UseCors</span><span class=\"token punctuation\">(</span>builder <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>builder<span class=\"token punctuation\">.</span><span class=\"token function\">AllowAnyOrigin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">AllowAnyMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">AllowAnyHeader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"最后控制器添加authorize用来鉴权\"><a class=\"markdownIt-Anchor\" href=\"#最后控制器添加authorize用来鉴权\">#</a> 最后控制器添加 [Authorize] 用来鉴权</h3>\n<h3 id=\"如果要使用swagger进行鉴权在configureservices里面的servicesaddswaggergen里面加上下面这段代码即可\"><a class=\"markdownIt-Anchor\" href=\"#如果要使用swagger进行鉴权在configureservices里面的servicesaddswaggergen里面加上下面这段代码即可\">#</a> 如果要使用 Swagger 进行鉴权，在 ConfigureServices 里面的 services.AddSwaggerGen 里面加上下面这段代码即可</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>c<span class=\"token punctuation\">.</span><span class=\"token function\">AddSecurityDefinition</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bearer\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">OpenApiSecurityScheme</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    In <span class=\"token operator\">=</span> ParameterLocation<span class=\"token punctuation\">.</span>Header<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    Type <span class=\"token operator\">=</span> SecuritySchemeType<span class=\"token punctuation\">.</span>ApiKey<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    Description <span class=\"token operator\">=</span> <span class=\"token string\">\"直接在下框中输入Bearer &#123;token&#125;（注意两者之间是一个空格）\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    Name <span class=\"token operator\">=</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    BearerFormat <span class=\"token operator\">=</span> <span class=\"token string\">\"JWT\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    Scheme <span class=\"token operator\">=</span> <span class=\"token string\">\"Bearer\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>c<span class=\"token punctuation\">.</span><span class=\"token function\">AddSecurityDefinition</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bearer\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">OpenApiSecurityScheme</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    In <span class=\"token operator\">=</span> ParameterLocation<span class=\"token punctuation\">.</span>Header<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    Type <span class=\"token operator\">=</span> SecuritySchemeType<span class=\"token punctuation\">.</span>ApiKey<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    Description <span class=\"token operator\">=</span> <span class=\"token string\">\"直接在下框中输入Bearer &#123;token&#125;（注意两者之间是一个空格）\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    Name <span class=\"token operator\">=</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    BearerFormat <span class=\"token operator\">=</span> <span class=\"token string\">\"JWT\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    Scheme <span class=\"token operator\">=</span> <span class=\"token string\">\"Bearer\"</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>c<span class=\"token punctuation\">.</span><span class=\"token function\">AddSecurityRequirement</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">OpenApiSecurityRequirement</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">OpenApiSecurityScheme</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            Reference <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">OpenApiReference</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>                Type <span class=\"token operator\">=</span> ReferenceType<span class=\"token punctuation\">.</span>SecurityScheme<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                Id <span class=\"token operator\">=</span> <span class=\"token string\">\"Bearer\"</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure>",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/WPF_Learning_2/",
            "url": "https://blog.lovetianci.cn/DotNET/WPF_Learning_2/",
            "title": "WPF DataTable帮助类",
            "date_published": "2021-01-21T11:30:00.000Z",
            "content_html": "<h3 id=\"分享一下wpf-datatable帮助类\"><a class=\"markdownIt-Anchor\" href=\"#分享一下wpf-datatable帮助类\">#</a> 分享一下 WPF DataTable 帮助类</h3>\n<a id=\"more\"></a>\n<h3 id=\"datatable导出csv\"><a class=\"markdownIt-Anchor\" href=\"#datatable导出csv\">#</a> DataTable 导出 CSV</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// DataTable 导出 CSV</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/// &lt;param name=\"dt\">&lt;/param></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">SaveCSV</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataTable</span> dt<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token class-name\">SaveFileDialog</span> saveFile <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SaveFileDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>Title <span class=\"token operator\">=</span> <span class=\"token string\">\"保存文件\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>Filter <span class=\"token operator\">=</span> <span class=\"token string\">\"CSV文件(*.csv) |*.csv |所有文件(*.*) |*.*\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>FilterIndex <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>saveFile<span class=\"token punctuation\">.</span><span class=\"token function\">ShowDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> System<span class=\"token punctuation\">.</span>Windows<span class=\"token punctuation\">.</span>Forms<span class=\"token punctuation\">.</span>DialogResult<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> fileName <span class=\"token operator\">=</span> saveFile<span class=\"token punctuation\">.</span>FileName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>File<span class=\"token punctuation\">.</span><span class=\"token function\">Exists</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      File<span class=\"token punctuation\">.</span><span class=\"token function\">Delete</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token class-name\">FileStream</span> fs <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token class-name\">StreamWriter</span> sw <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token comment\">// 先打印标头</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token class-name\">StringBuilder</span> strColu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token class-name\">StringBuilder</span> strValue <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">try</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>      fs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FileStream</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span> FileMode<span class=\"token punctuation\">.</span>Create<span class=\"token punctuation\">,</span> FileAccess<span class=\"token punctuation\">.</span>Write<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>      sw <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StreamWriter</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">,</span> Encoding<span class=\"token punctuation\">.</span>Default<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span>Count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        strColu<span class=\"token punctuation\">.</span><span class=\"token function\">Append</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ColumnName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        strColu<span class=\"token punctuation\">.</span><span class=\"token function\">Append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      strColu<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span>strColu<span class=\"token punctuation\">.</span>Length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 移出掉最后一个，字符</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      sw<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>strColu<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DataRow</span> dr <span class=\"token keyword\">in</span> dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        strValue<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> strValue<span class=\"token punctuation\">.</span>Length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 移出</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span>Count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>          strValue<span class=\"token punctuation\">.</span><span class=\"token function\">Append</span><span class=\"token punctuation\">(</span><span class=\"token function\">ReplaceChar</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> DBNull<span class=\"token punctuation\">.</span>Value <span class=\"token punctuation\">?</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">:</span> dr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>          strValue<span class=\"token punctuation\">.</span><span class=\"token function\">Append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        strValue<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span>strValue<span class=\"token punctuation\">.</span>Length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 移出掉最后一个，字符</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        sw<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>strValue<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      sw<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> ex<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>      System<span class=\"token punctuation\">.</span>Windows<span class=\"token punctuation\">.</span>MessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span>ex<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    System<span class=\"token punctuation\">.</span>Windows<span class=\"token punctuation\">.</span>Forms<span class=\"token punctuation\">.</span>MessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"保存CSV成功\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"提示\"</span><span class=\"token punctuation\">,</span> MessageBoxButtons<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">,</span> MessageBoxIcon<span class=\"token punctuation\">.</span>Information<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token comment\">/// 防止串列</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token comment\">/// &lt;param name=\"str\">&lt;/param></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">ReplaceChar</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> str<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> field <span class=\"token operator\">=</span> str<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"+\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"=\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"'\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">IsNum</span><span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>      <span class=\"token keyword\">return</span> field<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t&#123;0&#125;\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string character\">','</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\"&#123;0&#125;\\\"\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string character\">'\"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t&#123;0&#125;\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string character\">'\\r'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\"&#123;0&#125;\\\"\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string character\">'\\n'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\"&#123;0&#125;\\\"\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string character\">'\\\"'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\"&#123;0&#125;\\\"\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>field <span class=\"token operator\">!=</span> field<span class=\"token punctuation\">.</span><span class=\"token function\">Trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\"&#123;0&#125;\\\"\"</span><span class=\"token punctuation\">,</span> field<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>  <span class=\"token keyword\">return</span> field<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre></pre></td></tr><tr><td data-num=\"111\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> <span class=\"token function\">IsNum</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> num<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>  <span class=\"token keyword\">try</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>    Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToDecimal</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>  <span class=\"token keyword\">catch</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"datatable转excel\"><a class=\"markdownIt-Anchor\" href=\"#datatable转excel\">#</a> DataTable 转 Excel</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// DataTable 转 Excel</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/// &lt;param name=\"m_DataTable\">&lt;/param></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">DataToExcel</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataTable</span> m_DataTable<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token class-name\">SaveFileDialog</span> saveFile <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">SaveFileDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>Title <span class=\"token operator\">=</span> <span class=\"token string\">\"保存文件\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>Filter <span class=\"token operator\">=</span> <span class=\"token string\">\"EXECL文件(*.xlsx) |*.xlsx |所有文件(*.*) |*.*\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  saveFile<span class=\"token punctuation\">.</span>FilterIndex <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>saveFile<span class=\"token punctuation\">.</span><span class=\"token function\">ShowDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> System<span class=\"token punctuation\">.</span>Windows<span class=\"token punctuation\">.</span>Forms<span class=\"token punctuation\">.</span>DialogResult<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> FileName <span class=\"token operator\">=</span> saveFile<span class=\"token punctuation\">.</span>FileName<span class=\"token punctuation\">;</span><span class=\"token comment\">// + \".xls\";</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>File<span class=\"token punctuation\">.</span><span class=\"token function\">Exists</span><span class=\"token punctuation\">(</span>FileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      File<span class=\"token punctuation\">.</span><span class=\"token function\">Delete</span><span class=\"token punctuation\">(</span>FileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token class-name\">FileStream</span> objFileStream<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token class-name\">StreamWriter</span> objStreamWriter<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> strLine <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    objFileStream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FileStream</span><span class=\"token punctuation\">(</span>FileName<span class=\"token punctuation\">,</span> FileMode<span class=\"token punctuation\">.</span>OpenOrCreate<span class=\"token punctuation\">,</span> FileAccess<span class=\"token punctuation\">.</span>Write<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    objStreamWriter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StreamWriter</span><span class=\"token punctuation\">(</span>objFileStream<span class=\"token punctuation\">,</span> System<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>Encoding<span class=\"token punctuation\">.</span>Unicode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> m_DataTable<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      strLine <span class=\"token operator\">=</span> strLine <span class=\"token operator\">+</span> m_DataTable<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Caption<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToChar</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    objStreamWriter<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>strLine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    strLine <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> m_DataTable<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> m_DataTable<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>m_DataTable<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ItemArray<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>          strLine <span class=\"token operator\">=</span> strLine <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToChar</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>          <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> rowstr <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>          rowstr <span class=\"token operator\">=</span> m_DataTable<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ItemArray<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rowstr<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\r\\n\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            rowstr <span class=\"token operator\">=</span> rowstr<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\r\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rowstr<span class=\"token punctuation\">.</span><span class=\"token function\">IndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            rowstr <span class=\"token operator\">=</span> rowstr<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\t\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>          strLine <span class=\"token operator\">=</span> strLine <span class=\"token operator\">+</span> rowstr <span class=\"token operator\">+</span> Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToChar</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>      objStreamWriter<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>strLine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>      strLine <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    objStreamWriter<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    objFileStream<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>    System<span class=\"token punctuation\">.</span>Windows<span class=\"token punctuation\">.</span>Forms<span class=\"token punctuation\">.</span>MessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"保存EXCEL成功\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"提示\"</span><span class=\"token punctuation\">,</span> MessageBoxButtons<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">,</span> MessageBoxIcon<span class=\"token punctuation\">.</span>Information<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"coder.jpg\" alt=\"苦逼程序猿\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/WPF_Learning_1/",
            "url": "https://blog.lovetianci.cn/DotNET/WPF_Learning_1/",
            "title": "WPF知识点",
            "date_published": "2021-01-20T16:30:00.000Z",
            "content_html": "<h3 id=\"2021首发\"><a class=\"markdownIt-Anchor\" href=\"#2021首发\">#</a> 2021 首发</h3>\n<a id=\"more\"></a>\n<h3 id=\"1-首先写一个list转datatable的方法\"><a class=\"markdownIt-Anchor\" href=\"#1-首先写一个list转datatable的方法\">#</a> 1. 首先写一个 List 转 DataTable 的方法</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">DataTable</span> <span class=\"token generic-method\"><span class=\"token function\">ListToDt</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>T<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IEnumerable<span class=\"token punctuation\">&lt;</span>T<span class=\"token punctuation\">></span></span> collection<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> props <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">AddRange</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span>p <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span>Name<span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">.</span>PropertyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>collection<span class=\"token punctuation\">.</span><span class=\"token function\">Count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> collection<span class=\"token punctuation\">.</span><span class=\"token function\">Count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token class-name\">ArrayList</span> tempList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ArrayList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">PropertyInfo</span> pi <span class=\"token keyword\">in</span> props<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token class-name\"><span class=\"token keyword\">object</span></span> obj <span class=\"token operator\">=</span> pi<span class=\"token punctuation\">.</span><span class=\"token function\">GetValue</span><span class=\"token punctuation\">(</span>collection<span class=\"token punctuation\">.</span><span class=\"token function\">ElementAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        tempList<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token class-name\"><span class=\"token keyword\">object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> array <span class=\"token operator\">=</span> tempList<span class=\"token punctuation\">.</span><span class=\"token function\">ToArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      dt<span class=\"token punctuation\">.</span><span class=\"token function\">LoadDataRow</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">return</span> dt<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"然后定义一个list\"><a class=\"markdownIt-Anchor\" href=\"#然后定义一个list\">#</a> 然后定义一个 list</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>Teacher<span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>Teacher<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Teacher</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Name <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Password <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"方法内调用\"><a class=\"markdownIt-Anchor\" href=\"#方法内调用\">#</a> 方法内调用</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">DataTable</span> dt <span class=\"token operator\">=</span> <span class=\"token function\">ListToDt</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">DataView</span> dv <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataView</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"这样一个list就转成了dataview\"><a class=\"markdownIt-Anchor\" href=\"#这样一个list就转成了dataview\">#</a> 这样一个 List 就转成了 DataView</h3>\n<h3 id=\"2-然后是datatable行转列的方法\"><a class=\"markdownIt-Anchor\" href=\"#2-然后是datatable行转列的方法\">#</a> 2. 然后是 DataTable 行转列的方法</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token return-type class-name\">DataTable</span> <span class=\"token function\">SwapTable</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataTable</span> tableData<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> intRows <span class=\"token operator\">=</span> tableData<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> intColumns <span class=\"token operator\">=</span> tableData<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\">// 转二维数组</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span></span> arrayData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span></span><span class=\"token punctuation\">[</span>intRows<span class=\"token punctuation\">,</span> intColumns<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> intRows<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> intColumns<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      arrayData<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tableData<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">j</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token comment\">// 下标对换</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span></span> arrSwap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span></span><span class=\"token punctuation\">[</span>intColumns<span class=\"token punctuation\">,</span> intRows<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> m <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> m <span class=\"token operator\">&lt;</span> intColumns<span class=\"token punctuation\">;</span> m<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> n <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> n <span class=\"token operator\">&lt;</span> intRows<span class=\"token punctuation\">;</span> n<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      arrSwap<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arrayData<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token class-name\">DataTable</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token comment\">// 添加列</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> k <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> k <span class=\"token operator\">&lt;</span> intRows<span class=\"token punctuation\">;</span> k<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span>arrSwap<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token comment\">// 添加行</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> r <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> r <span class=\"token operator\">&lt;</span> intColumns<span class=\"token punctuation\">;</span> r<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token class-name\">DataRow</span> dr <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">NewRow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> c <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> c <span class=\"token operator\">&lt;</span> intRows<span class=\"token punctuation\">;</span> c<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>      dr<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arrSwap<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token comment\">// 添加行头</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  <span class=\"token class-name\">DataColumn</span> ColRowHead <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span>tableData<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ColumnName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>  dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>ColRowHead<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>  dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span>ColRowHead<span class=\"token punctuation\">.</span>ColumnName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">SetOrdinal</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> intColumns <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>  <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">ColRowHead<span class=\"token punctuation\">.</span>ColumnName</span></span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> tableData<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ColumnName<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token keyword\">return</span> dt<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"3-wpf获取选中某行的值\"><a class=\"markdownIt-Anchor\" href=\"#3-wpf获取选中某行的值\">#</a> 3. WPF 获取选中某行的值</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">DataRowView</span> mySelectedItem <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DataRowView<span class=\"token punctuation\">)</span>dataGrid<span class=\"token punctuation\">.</span>SelectedItem<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 判断有没有选中</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mySelectedItem <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token class-name\">DataRow</span> result <span class=\"token operator\">=</span> mySelectedItem<span class=\"token punctuation\">.</span>Row<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token class-name\">DataTable</span> dataTableNew <span class=\"token operator\">=</span> dataTable<span class=\"token punctuation\">.</span><span class=\"token function\">Clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  dataTableNew<span class=\"token punctuation\">.</span><span class=\"token function\">ImportRow</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dataGrid1<span class=\"token punctuation\">.</span>ItemsSource <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataView</span><span class=\"token punctuation\">(</span>dataTableNew<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"4-datatable筛选数据\"><a class=\"markdownIt-Anchor\" href=\"#4-datatable筛选数据\">#</a> 4. DataTable 筛选数据</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">DataRow<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> dr <span class=\"token operator\">=</span> dataTable<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Name ='张三'\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Time DESC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">DataTable</span> dataTableNew <span class=\"token operator\">=</span> dataTable<span class=\"token punctuation\">.</span><span class=\"token function\">Clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> dr<span class=\"token punctuation\">.</span>Length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  dataTableNew<span class=\"token punctuation\">.</span><span class=\"token function\">ImportRow</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>dataGrid1<span class=\"token punctuation\">.</span>ItemsSource <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataView</span><span class=\"token punctuation\">(</span>dataTableNew<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"5-textbox实时更新binding的property\"><a class=\"markdownIt-Anchor\" href=\"#5-textbox实时更新binding的property\">#</a> 5. TextBox 实时更新 Binding 的 Property</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Text<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;Binding SearchText,UpdateSourceTrigger=PropertyChanged&#125;\"</span></pre></td></tr></table></figure><p><img data-src=\"coder.gif\" alt=\"鸭梨好大\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Other/GitLab_Windows10/",
            "url": "https://blog.lovetianci.cn/Other/GitLab_Windows10/",
            "title": "Windows服务器搭建私人GitLab",
            "date_published": "2020-10-11T21:00:00.000Z",
            "content_html": "<h2 id=\"记录一下windows服务器搭建私人gitlab\"><a class=\"markdownIt-Anchor\" href=\"#记录一下windows服务器搭建私人gitlab\">#</a> 记录一下 Windows 服务器搭建私人 GitLab</h2>\n<a id=\"more\"></a>\n<h2 id=\"windows服务器搭建gitlab需要安装java环境\"><a class=\"markdownIt-Anchor\" href=\"#windows服务器搭建gitlab需要安装java环境\">#</a> Windows 服务器搭建 GitLab 需要安装 Java 环境</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlLWpkazgtZG93bmxvYWRzLmh0bWwjbGljZW5zZS1saWdodGJveA==\">Java 环境下载</span><br>\n<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dpdGJsaXQvZ2l0YmxpdC9yZWxlYXNlcy9kb3dubG9hZC92MS45LjEvZ2l0YmxpdC0xLjkuMS56aXA=\"> Gitblit-1.9.1.zip</span></p>\n<h2 id=\"下载javajdk并配置环境\"><a class=\"markdownIt-Anchor\" href=\"#下载javajdk并配置环境\">#</a> 下载 JavaJDK 并配置环境</h2>\n<h3 id=\"此电脑-属性-高级系统设置-环境变量-添加\"><a class=\"markdownIt-Anchor\" href=\"#此电脑-属性-高级系统设置-环境变量-添加\">#</a> 此电脑 -&gt; 属性 -&gt; 高级系统设置 -&gt; 环境变量 -&gt; 添加</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>变量名：JAVA_HOME</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>变量值：电脑上JDK安装的绝对路径</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>变量名：CLASSPATH</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>变量值：.<span class=\"token punctuation\">;</span>%JAVA_HOME%<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>dt.jar<span class=\"token punctuation\">;</span>%JAVA_HOME%<span class=\"token punctuation\">\\</span>lib<span class=\"token punctuation\">\\</span>tools.jar<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"选择path这一列点编辑\"><a class=\"markdownIt-Anchor\" href=\"#选择path这一列点编辑\">#</a> 选择 path 这一列点编辑</h3>\n<p><img data-src=\"path.jpg\" alt=\"环境变量\"></p>\n<h3 id=\"然后新增两行\"><a class=\"markdownIt-Anchor\" href=\"#然后新增两行\">#</a> 然后新增两行</h3>\n<p><img data-src=\"path2.jpg\" alt=\"环境变量\"></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>%JAVA_HOME%<span class=\"token punctuation\">\\</span>bin</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>%JAVA_HOME%<span class=\"token punctuation\">\\</span>jre<span class=\"token punctuation\">\\</span>bin</pre></td></tr></table></figure><h3 id=\"打开cmd输入java-version查看版本号没有错误说明安装成功\"><a class=\"markdownIt-Anchor\" href=\"#打开cmd输入java-version查看版本号没有错误说明安装成功\">#</a> 打开 cmd 输入 java -version 查看版本号，没有错误说明安装成功</h3>\n<h3 id=\"打开data文件夹编辑找到defaultsproperties配置文件\"><a class=\"markdownIt-Anchor\" href=\"#打开data文件夹编辑找到defaultsproperties配置文件\">#</a> 打开 data 文件夹编辑找到 defaults.properties 配置文件</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 设置版本库的位置</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>git.repositoriesFolder <span class=\"token operator\">=</span> 你要的路径</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># 设置端口号</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>server.httpPort <span class=\"token operator\">=</span> 端口号</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># 设置 ip 地址</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>server.httpBindInterface <span class=\"token operator\">=</span> 本机ipv4</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>server.certificateAlias <span class=\"token operator\">=</span> localhost</pre></td></tr></table></figure><h3 id=\"修改installservicecmd文件\"><a class=\"markdownIt-Anchor\" href=\"#修改installservicecmd文件\">#</a> 修改 installService.cmd 文件</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>@REM arch <span class=\"token operator\">=</span> x86, amd64, or ia32</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>SET <span class=\"token assign-left variable\">ARCH</span><span class=\"token operator\">=</span>amd64</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>SET CD <span class=\"token operator\">=</span> C:<span class=\"token punctuation\">\\</span>WebFile<span class=\"token punctuation\">\\</span>GitLab --<span class=\"token punctuation\">(</span>GitLab解压后的路径<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"然后在命令窗口运行gitlabcmd切记cmd窗口不能关闭\"><a class=\"markdownIt-Anchor\" href=\"#然后在命令窗口运行gitlabcmd切记cmd窗口不能关闭\">#</a> 然后在命令窗口运行 gitlab.cmd（切记 cmd 窗口不能关闭）</h3>\n<h3 id=\"最后以管理员账号登陆就可以自己添加存储库了然后自行拉取提交推送\"><a class=\"markdownIt-Anchor\" href=\"#最后以管理员账号登陆就可以自己添加存储库了然后自行拉取提交推送\">#</a> 最后以管理员账号登陆，就可以自己添加存储库了，然后自行拉取提交推送</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_EFCore_MySQL/",
            "url": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_EFCore_MySQL/",
            "title": ".NET Core WebAPI使用EFCore连接MySQL",
            "date_published": "2020-07-09T18:00:00.000Z",
            "content_html": "<h2 id=\"记录一下dotnet-core使用efcore连接mysql数据库\"><a class=\"markdownIt-Anchor\" href=\"#记录一下dotnet-core使用efcore连接mysql数据库\">#</a> 记录一下 DotNET Core 使用 EFCore 连接 MySQL 数据库</h2>\n<a id=\"more\"></a>\n<h3 id=\"首先从nuget包里面找到mysqldataentityframeworkcore进行安装\"><a class=\"markdownIt-Anchor\" href=\"#首先从nuget包里面找到mysqldataentityframeworkcore进行安装\">#</a> 首先从 nuget 包里面找到 MySQL.Data.EntityFrameworkCore 进行安装</h3>\n<p><img data-src=\"EFCore.png\" alt=\"EFCore\"></p>\n<h3 id=\"因为我的net\"><a class=\"markdownIt-Anchor\" href=\"#因为我的net\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3huLS1zaXFyNHN2dWprc3UuTkVU\">因为我的.NET</span> Core 是最新版本 3.1，所以这个 EFCore 我安装的也是最新版本 8.0.20</h3>\n<h3 id=\"第一步在配置文件appsettingsjson里面添加连接字符串\"><a class=\"markdownIt-Anchor\" href=\"#第一步在配置文件appsettingsjson里面添加连接字符串\">#</a> 第一步在配置文件 appsettings.json 里面添加连接字符串</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">\"ConnectionStrings\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token string\">\"MySQLConnection\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"server=本地或者线上地址;uid=用户名;pwd=密码;port=端口号;database=需要连接的数据库名称;SslMode=None\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"第二步添加数据库上下文类\"><a class=\"markdownIt-Anchor\" href=\"#第二步添加数据库上下文类\">#</a> 第二步添加数据库上下文类</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EFCoreDbContext</span><span class=\"token punctuation\">:</span><span class=\"token type-list\"><span class=\"token class-name\">DbContext</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">virtual</span> <span class=\"token return-type class-name\">DbSet<span class=\"token punctuation\">&lt;</span>UserInfo<span class=\"token punctuation\">></span></span> Users <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">// 将实体类添加 Context 中</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token function\">EFCoreDbContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DbContextOptions<span class=\"token punctuation\">&lt;</span>EFCoreDbContext<span class=\"token punctuation\">></span></span> options<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">base</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"第三步startupcs里面的configureservices方法下面读取服务添加到容器\"><a class=\"markdownIt-Anchor\" href=\"#第三步startupcs里面的configureservices方法下面读取服务添加到容器\">#</a> 第三步 Startup.cs 里面的 ConfigureServices 方法下面读取服务添加到容器</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>services<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">AddDbContext</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>EFCoreDbContext<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>options<span class=\"token punctuation\">.</span><span class=\"token function\">UseMySQL</span><span class=\"token punctuation\">(</span>Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">GetConnectionString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MySQLConnection\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"最后在需要使用到数据库的控制器内添加构造函数初始化数据库上下文类\"><a class=\"markdownIt-Anchor\" href=\"#最后在需要使用到数据库的控制器内添加构造函数初始化数据库上下文类\">#</a> 最后在需要使用到数据库的控制器内添加构造函数，初始化数据库上下文类</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// 初始化数据库上下文</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">EFCoreDbContext</span> _efCoreDbContext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">/// 构造及初始化类参数</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token function\">ImageController</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EFCoreDbContext</span> coreDbContext<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  _efCoreDbContext <span class=\"token operator\">=</span> coreDbContext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"最后接口通过上下文类取出相应的数据如果数据不为空则连接成功\"><a class=\"markdownIt-Anchor\" href=\"#最后接口通过上下文类取出相应的数据如果数据不为空则连接成功\">#</a> 最后接口通过上下文类取出相应的数据，如果数据不为空则连接成功</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Exception/",
            "url": "https://blog.lovetianci.cn/DotNET/DotNETCore_WebAPI_Exception/",
            "title": ".NET Core WebAPI全局异常处理",
            "date_published": "2020-07-03T16:00:00.000Z",
            "content_html": "<h2 id=\"今天记录一下dotnet-core-webapi的全局异常处理\"><a class=\"markdownIt-Anchor\" href=\"#今天记录一下dotnet-core-webapi的全局异常处理\">#</a> 今天记录一下 DotNET Core WebAPI 的全局异常处理</h2>\n<a id=\"more\"></a>\n<h3 id=\"上代码先创建一个类命名就叫exceptionfilter继承于exceptionfilterattribute\"><a class=\"markdownIt-Anchor\" href=\"#上代码先创建一个类命名就叫exceptionfilter继承于exceptionfilterattribute\">#</a> 上代码，先创建一个类，命名就叫 ExceptionFilter 继承于 ExceptionFilterAttribute</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ExceptionFilter</span><span class=\"token punctuation\">:</span><span class=\"token type-list\"><span class=\"token class-name\">ExceptionFilterAttribute</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ExceptionContext</span> context<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>context<span class=\"token punctuation\">.</span>ExceptionHandled<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            context<span class=\"token punctuation\">.</span>Result <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">JsonResult</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                Code <span class=\"token operator\">=</span> <span class=\"token string\">\"500\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                Res <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>                <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                    Data <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span>Exception<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>                    Msg <span class=\"token operator\">=</span> <span class=\"token string\">\"接口发生错误\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            context<span class=\"token punctuation\">.</span>ExceptionHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"然后在startup类下面的configureservices方法下面全局注册一下\"><a class=\"markdownIt-Anchor\" href=\"#然后在startup类下面的configureservices方法下面全局注册一下\">#</a> 然后在 Startup 类下面的 ConfigureServices 方法下面全局注册一下</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 此方法由运行时调用，使用此方法将服务添加到容器</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">ConfigureServices</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IServiceCollection</span> services<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    services<span class=\"token punctuation\">.</span><span class=\"token function\">AddControllers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// 全局配置 Json 序列化大小写处理</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    services<span class=\"token punctuation\">.</span><span class=\"token function\">AddMvc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">AddJsonOptions</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        options<span class=\"token punctuation\">.</span>JsonSerializerOptions<span class=\"token punctuation\">.</span>PropertyNamingPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        options<span class=\"token punctuation\">.</span>JsonSerializerOptions<span class=\"token punctuation\">.</span>DictionaryKeyPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">// 全局注册异常类</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    services<span class=\"token punctuation\">.</span><span class=\"token function\">AddMvc</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        options<span class=\"token punctuation\">.</span>Filters<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Add</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>ExceptionFilter<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\">// 解决中文被编码</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    services<span class=\"token punctuation\">.</span><span class=\"token function\">AddControllersWithViews</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">AddJsonOptions</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        options<span class=\"token punctuation\">.</span>JsonSerializerOptions<span class=\"token punctuation\">.</span>Encoder <span class=\"token operator\">=</span> JavaScriptEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>UnicodeRanges<span class=\"token punctuation\">.</span>All<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"为了防止返回的json大小写不匹配我还加了json大小写处理确定json输出和后台定义的格式以及大小写一致和返回的中文乱码情况\"><a class=\"markdownIt-Anchor\" href=\"#为了防止返回的json大小写不匹配我还加了json大小写处理确定json输出和后台定义的格式以及大小写一致和返回的中文乱码情况\">#</a> 为了防止返回的 Json 大小写不匹配，我还加了 Json 大小写处理，确定 Json 输出和后台定义的格式以及大小写一致，和返回的中文乱码情况</h3>\n<h3 id=\"在接口报错的时候会返回后台固定的code用来判断接口状态\"><a class=\"markdownIt-Anchor\" href=\"#在接口报错的时候会返回后台固定的code用来判断接口状态\">#</a> 在接口报错的时候会返回后台固定的 Code，用来判断接口状态</h3>\n<p><img data-src=\"error.png\" alt=\"异常分析\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/DotNETCore_IIS/",
            "url": "https://blog.lovetianci.cn/DotNET/DotNETCore_IIS/",
            "title": ".NET Core 部署IIS",
            "date_published": "2020-06-10T15:30:00.000Z",
            "content_html": "<h2 id=\"记录dotnet-core部署iis遇到的坑\"><a class=\"markdownIt-Anchor\" href=\"#记录dotnet-core部署iis遇到的坑\">#</a> 记录 DotNET Core 部署 IIS 遇到的坑</h2>\n<a id=\"more\"></a>\n<h3 id=\"vs2019发布项目到文件夹然后拷贝到服务器这些正常流程结束后访问api出现以下情况\"><a class=\"markdownIt-Anchor\" href=\"#vs2019发布项目到文件夹然后拷贝到服务器这些正常流程结束后访问api出现以下情况\">#</a> VS2019 发布项目到文件夹，然后拷贝到服务器，这些正常流程结束后访问 api，出现以下情况</h3>\n<h3 id=\"第一种500错误\"><a class=\"markdownIt-Anchor\" href=\"#第一种500错误\">#</a> 第一种 500 错误</h3>\n<p><img data-src=\"500.jpg\" alt=\"500错误\"></p>\n<h3 id=\"第二种502错误\"><a class=\"markdownIt-Anchor\" href=\"#第二种502错误\">#</a> 第二种 502 错误</h3>\n<p><img data-src=\"502.jpg\" alt=\"502错误\"></p>\n<h3 id=\"百度了很多得到以下解决方案\"><a class=\"markdownIt-Anchor\" href=\"#百度了很多得到以下解决方案\">#</a> 百度了很多得到以下解决方案</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb3dubG9hZC52aXN1YWxzdHVkaW8ubWljcm9zb2Z0LmNvbS9kb3dubG9hZC9wci83YzMwZDNhMS1mNTE5LTQxNjctYjg1MC1iOWM0OWJmMmFhMGUvZGJmYTk1N2E3NmE0MWExZTE3OTVmNTlkNDAwZDRjY2QvZG90bmV0LWhvc3RpbmctMy4xLjUtd2luLmV4ZQ==\">点击下载：dotnet-hosting-3.1.5-win.exe</span></p>\n<h3 id=\"下载并且安装dotnet-core托管捆绑包安装程序\"><a class=\"markdownIt-Anchor\" href=\"#下载并且安装dotnet-core托管捆绑包安装程序\">#</a> 下载并且安装 DotNET Core 托管捆绑包安装程序</h3>\n<h3 id=\"重新启动iis或者重新添加网站发布启动即可访问成功\"><a class=\"markdownIt-Anchor\" href=\"#重新启动iis或者重新添加网站发布启动即可访问成功\">#</a> 重新启动 IIS 或者重新添加网站，发布启动即可访问成功</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/SQL/MySQL_MSSQL_Stored_Procedure/",
            "url": "https://blog.lovetianci.cn/SQL/MySQL_MSSQL_Stored_Procedure/",
            "title": "MySQL和SQL Server存储过程",
            "date_published": "2020-05-11T17:40:00.000Z",
            "content_html": "<h1 id=\"记录一下数据库存储过程\"><a class=\"markdownIt-Anchor\" href=\"#记录一下数据库存储过程\">#</a> 记录一下数据库存储过程</h1>\n<a id=\"more\"></a>\n<h3 id=\"mysql创建带条件查询的存储过程\"><a class=\"markdownIt-Anchor\" href=\"#mysql创建带条件查询的存储过程\">#</a> MySQL 创建带条件查询的存储过程</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>DELIMITER <span class=\"token variable\">$$</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>CREATE</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    PROCEDURE <span class=\"token variable\"><span class=\"token variable\">`</span>数据库名<span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span><span class=\"token variable\"><span class=\"token variable\">`</span>存储过程名<span class=\"token variable\">`</span></span><span class=\"token punctuation\">(</span>IN 自定义参数 VARCHAR<span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">))</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    BEGIN</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tSELECT * FROM 表名 WHERE 字段 <span class=\"token operator\">=</span> 自定义参数<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    END<span class=\"token variable\">$$</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>DELIMITER <span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"调用并传参\"><a class=\"markdownIt-Anchor\" href=\"#调用并传参\">#</a> 调用并传参</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>CALL 存储过程名<span class=\"token punctuation\">(</span><span class=\"token string\">'参数值'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"删除存储过程\"><a class=\"markdownIt-Anchor\" href=\"#删除存储过程\">#</a> 删除存储过程</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>DROP PROCEDURE 存储过程名</pre></td></tr></table></figure><h3 id=\"sql-server创建带条件查询的存储过程\"><a class=\"markdownIt-Anchor\" href=\"#sql-server创建带条件查询的存储过程\">#</a> SQL Server 创建带条件查询的存储过程</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>create proc 存储过程名</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>@自定义参数 varchar<span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>as </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">select</span> * from 表名 where 字段<span class=\"token operator\">=</span>@自定义参数</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>go</pre></td></tr></table></figure><h3 id=\"调用并传参-2\"><a class=\"markdownIt-Anchor\" href=\"#调用并传参-2\">#</a> 调用并传参</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>EXEC 存储过程名 <span class=\"token string\">'参数值'</span></pre></td></tr></table></figure><h3 id=\"删除存储过程-2\"><a class=\"markdownIt-Anchor\" href=\"#删除存储过程-2\">#</a> 删除存储过程</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>drop proc 存储过程名</pre></td></tr></table></figure>",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Vue/Vue_Learning_2/",
            "url": "https://blog.lovetianci.cn/Vue/Vue_Learning_2/",
            "title": "vue+elementui遇到的坑",
            "date_published": "2020-04-24T21:30:00.000Z",
            "content_html": "<h2 id=\"入门vue第二篇\"><a class=\"markdownIt-Anchor\" href=\"#入门vue第二篇\">#</a> 入门 vue，第二篇</h2>\n<a id=\"more\"></a>\n<h3 id=\"今天做一个vueelementui的分页列表\"><a class=\"markdownIt-Anchor\" href=\"#今天做一个vueelementui的分页列表\">#</a> 今天做一个 vue+elementui 的分页列表</h3>\n<h3 id=\"首先安装elementui\"><a class=\"markdownIt-Anchor\" href=\"#首先安装elementui\">#</a> 首先安装 elementui</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> i element-ui -S</pre></td></tr></table></figure><h3 id=\"然后在mainjs里面配置\"><a class=\"markdownIt-Anchor\" href=\"#然后在mainjs里面配置\">#</a> 然后在 main.js 里面配置</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//elementui 配置</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> ElementUI <span class=\"token keyword\">from</span> <span class=\"token string\">'element-ui'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">'element-ui/lib/theme-chalk/index.css'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>ElementUI<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"注意事项mainjs这里要改个东西\"><a class=\"markdownIt-Anchor\" href=\"#注意事项mainjs这里要改个东西\">#</a> 注意事项，main.js 这里要改个东西</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  el<span class=\"token operator\">:</span> <span class=\"token string\">'#app'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  router<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token comment\">//components: &#123;App&#125;,//vue1.0 写法</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  template<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;App/>'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token parameter\">h</span> <span class=\"token operator\">=></span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token comment\">//vue2.0 写法</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token comment\">//render 函数是渲染一个视图，然后提供给 el 挂载，如果没有 render 那页面什么都不会出来</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"render-h-happ这是新加的上面的注释掉不然会报错\"><a class=\"markdownIt-Anchor\" href=\"#render-h-happ这是新加的上面的注释掉不然会报错\">#</a> render: h =&gt; h (App) 这是新加的，上面的注释掉，不然会报错</h3>\n<h3 id=\"贴上列表的全部代码\"><a class=\"markdownIt-Anchor\" href=\"#贴上列表的全部代码\">#</a> 贴上列表的全部代码</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>container style<span class=\"token operator\">=</span><span class=\"token string\">\"height: 500px; border: 1px solid #eee\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>aside width<span class=\"token operator\">=</span><span class=\"token string\">\"200px\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"background-color: rgb(238, 241, 246)\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu <span class=\"token operator\">:</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span>openeds<span class=\"token operator\">=</span><span class=\"token string\">\"['1','3']\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>submenu index<span class=\"token operator\">=</span><span class=\"token string\">\"1\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token operator\">&lt;</span>template slot<span class=\"token operator\">=</span><span class=\"token string\">\"title\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>i <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"el-icon-message\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>i<span class=\"token operator\">></span>导航<span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-1\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-2\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-3\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>submenu<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>submenu index<span class=\"token operator\">=</span><span class=\"token string\">\"2\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token operator\">&lt;</span>template slot<span class=\"token operator\">=</span><span class=\"token string\">\"title\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>i <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"el-icon-message\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>i<span class=\"token operator\">></span>导航<span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-1\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-2\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-3\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>submenu<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>submenu index<span class=\"token operator\">=</span><span class=\"token string\">\"3\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token operator\">&lt;</span>template slot<span class=\"token operator\">=</span><span class=\"token string\">\"title\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>i <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"el-icon-message\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>i<span class=\"token operator\">></span>导航<span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-1\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-2\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-3\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item index<span class=\"token operator\">=</span><span class=\"token string\">\"1-4\"</span><span class=\"token operator\">></span>选项<span class=\"token number\">4</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>submenu<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>menu<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>aside<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>container<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>header style<span class=\"token operator\">=</span><span class=\"token string\">\"text-align: right; font-size: 12px\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token operator\">&lt;</span>i <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"el-icon-setting\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"margin-right: 15px\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>i<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>menu slot<span class=\"token operator\">=</span><span class=\"token string\">\"dropdown\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span>查看<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span>新增<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span>删除<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>item<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">-</span>menu<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>dropdown<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>王小虎<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>header<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>main<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>      <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table <span class=\"token operator\">:</span>data<span class=\"token operator\">=</span><span class=\"token string\">\"list\"</span> <span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table <span class=\"token operator\">:</span>data<span class=\"token operator\">=</span><span class=\"token string\">\"list.slice((pageNow-1)*pageSize,pageNow*pageSize)\"</span> <span class=\"token operator\">></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>          <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 对数据请求本地的处理，如果调用接口直接赋值list <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column prop<span class=\"token operator\">=</span><span class=\"token string\">\"id\"</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"id\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"40\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>        <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column prop<span class=\"token operator\">=</span><span class=\"token string\">\"imageUrl\"</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"图片路径\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"420\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>        <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column prop<span class=\"token operator\">=</span><span class=\"token string\">\"detail\"</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"详情\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"140\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column prop<span class=\"token operator\">=</span><span class=\"token string\">\"isActive\"</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"是否可用\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">-</span>column<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>table<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>main<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>pagination</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>        background</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>        layout<span class=\"token operator\">=</span><span class=\"token string\">\"total, sizes, prev, pager, next, jumper\"</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>        @size<span class=\"token operator\">-</span>change<span class=\"token operator\">=</span><span class=\"token string\">\"handleSizeChange\"</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>        @current<span class=\"token operator\">-</span>change<span class=\"token operator\">=</span><span class=\"token string\">\"handleCurrentChange\"</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token operator\">:</span>total<span class=\"token operator\">=</span><span class=\"token string\">\"totalCount\"</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>        <span class=\"token operator\">:</span>current<span class=\"token operator\">-</span>page<span class=\"token operator\">=</span><span class=\"token string\">\"pageNow\"</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>        <span class=\"token operator\">:</span>page<span class=\"token operator\">-</span>sizes<span class=\"token operator\">=</span><span class=\"token string\">\"[5, 10, 15, 20, 25]\"</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token operator\">:</span>page<span class=\"token operator\">-</span>size<span class=\"token operator\">=</span><span class=\"token string\">\"pageSize\"</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>        <span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 背景色，组件布局，pageSize事件，pageNow事件，总条目数，当前页，当前页数，每页个数 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>pagination<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>container<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>container<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre><span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre><span class=\"token comment\">/* 总数，每页条数，上页，，当前页，下页，跳转 */</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre><span class=\"token comment\">/* total, sizes, prev, pager, next, jumper */</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>  <span class=\"token punctuation\">.</span>el<span class=\"token operator\">-</span>header <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    background<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> #<span class=\"token constant\">B3C0D1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    color<span class=\"token operator\">:</span> #<span class=\"token number\">333</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    line<span class=\"token operator\">-</span>height<span class=\"token operator\">:</span> <span class=\"token number\">60</span>px<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"78\"></td><td><pre>  <span class=\"token punctuation\">.</span>el<span class=\"token operator\">-</span>aside <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    color<span class=\"token operator\">:</span> #<span class=\"token number\">333</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre></pre></td></tr><tr><td data-num=\"83\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>      list<span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>      pageNow<span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 绑定控件当前页</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>      pageSize<span class=\"token operator\">:</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 绑定控件当前页数量</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>      totalCount<span class=\"token operator\">:</span><span class=\"token number\">1000</span><span class=\"token comment\">// 绑定控件总数</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>  <span class=\"token function\">created</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>      <span class=\"token comment\">//created: 在模板渲染成 html 前调用，即通常初始化某些属性值，然后再渲染成视图</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>      <span class=\"token comment\">//mounted: 在模板渲染成 html 后调用，通常是初始化页面完成后，再对 html 的 dom 节点进行一些需要的操作</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>  methods<span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    <span class=\"token function-variable function\">handleSizeChange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">pageSize</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageSize <span class=\"token operator\">=</span> pageSize<span class=\"token punctuation\">;</span><span class=\"token comment\">// 每页下拉显示数据</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetList</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 调用方法传参</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>    <span class=\"token function-variable function\">handleCurrentChange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pageNow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageNow <span class=\"token operator\">=</span> pageNow<span class=\"token punctuation\">;</span><span class=\"token comment\">// 点击第几页</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetList</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageNow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 调用方法传参</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    <span class=\"token function\">GetList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/Tianci/Images'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>          params<span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            PageNow<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageNow<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>            PageSize<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pageSize</pre></td></tr><tr><td data-num=\"114\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>code<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>            <span class=\"token comment\">// 列表赋值给 list</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>list<span class=\"token operator\">=</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>            <span class=\"token comment\">// 总页数返回给绑定的参数</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>totalCount<span class=\"token operator\">=</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>total<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"124\"></td><td><pre>            <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"数据为空\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"主要是看el-main标签到最后script代码就不一一解释了主要是渲染\"><a class=\"markdownIt-Anchor\" href=\"#主要是看el-main标签到最后script代码就不一一解释了主要是渲染\">#</a> 主要是看 el-main 标签到最后 script 代码，就不一一解释了，主要是渲染</h3>\n<h3 id=\"然后npm-run-build打包这里会遇到三个问题\"><a class=\"markdownIt-Anchor\" href=\"#然后npm-run-build打包这里会遇到三个问题\">#</a> 然后 npm run build 打包，这里会遇到三个问题</h3>\n<h3 id=\"线上预览是没问题的\"><a class=\"markdownIt-Anchor\" href=\"#线上预览是没问题的\">#</a> 线上预览，是没问题的</h3>\n<p><img data-src=\"1.jpg\" alt=\"本地预览正常\"></p>\n<h3 id=\"第一个问题页面全白打开config文件夹下面的indexjs找到这里\"><a class=\"markdownIt-Anchor\" href=\"#第一个问题页面全白打开config文件夹下面的indexjs找到这里\">#</a> 第一个问题，页面全白，打开 config 文件夹下面的 index.js 找到这里</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// Paths</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>assetsRoot<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>assetsSubDirectory<span class=\"token operator\">:</span> <span class=\"token string\">'static'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>assetsPublicPath<span class=\"token operator\">:</span> <span class=\"token string\">'./'</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 打包后页面空白，/ 改成./</span></pre></td></tr></table></figure><h3 id=\"第二个问题引用的文件报错找到build文件夹下面的utilsjs\"><a class=\"markdownIt-Anchor\" href=\"#第二个问题引用的文件报错找到build文件夹下面的utilsjs\">#</a> 第二个问题，引用的文件报错，找到 build 文件夹下面的 utils.js</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">return</span> ExtractTextPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    use<span class=\"token operator\">:</span> loaders<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    fallback<span class=\"token operator\">:</span> <span class=\"token string\">'vue-style-loader'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    publicPath<span class=\"token operator\">:</span> <span class=\"token string\">'../../'</span> <span class=\"token comment\">// 文件路径异常，添加这句</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"最后打包遇到第三个问题\"><a class=\"markdownIt-Anchor\" href=\"#最后打包遇到第三个问题\">#</a> 最后打包遇到第三个问题</h3>\n<p><img data-src=\"2.jpg\" alt=\"打包之后跑版\"></p>\n<h3 id=\"跟本地预览样式有一些差异但是也没有报错\"><a class=\"markdownIt-Anchor\" href=\"#跟本地预览样式有一些差异但是也没有报错\">#</a> 跟本地预览样式有一些差异，但是也没有报错</h3>\n<h3 id=\"下期再发解决的吧现在也一直没找到原因\"><a class=\"markdownIt-Anchor\" href=\"#下期再发解决的吧现在也一直没找到原因\">#</a> 下期再发解决的吧，现在也一直没找到原因</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Vue/Vue_Learning_1/",
            "url": "https://blog.lovetianci.cn/Vue/Vue_Learning_1/",
            "title": "学习vue遇到的坑",
            "date_published": "2020-04-23T16:25:00.000Z",
            "content_html": "<h2 id=\"入门vue第一篇\"><a class=\"markdownIt-Anchor\" href=\"#入门vue第一篇\">#</a> 入门 Vue，第一篇</h2>\n<a id=\"more\"></a>\n<h3 id=\"安装环境就不说了直接创建项目\"><a class=\"markdownIt-Anchor\" href=\"#安装环境就不说了直接创建项目\">#</a> 安装环境就不说了，直接创建项目</h3>\n<h3 id=\"打开gitbash\"><a class=\"markdownIt-Anchor\" href=\"#打开gitbash\">#</a> 打开 GitBash</h3>\n<h3 id=\"全局安装vue-cli\"><a class=\"markdownIt-Anchor\" href=\"#全局安装vue-cli\">#</a> 全局安装 vue-cli</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cnpm <span class=\"token function\">install</span> vue-cli -g</pre></td></tr></table></figure><h3 id=\"创建项目\"><a class=\"markdownIt-Anchor\" href=\"#创建项目\">#</a> 创建项目</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>vue init webpack <span class=\"token string\">\"项目名称\"</span></pre></td></tr></table></figure><h3 id=\"进入项目文件夹\"><a class=\"markdownIt-Anchor\" href=\"#进入项目文件夹\">#</a> 进入项目文件夹</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> <span class=\"token string\">\"项目名称\"</span></pre></td></tr></table></figure><h3 id=\"安装相关依赖\"><a class=\"markdownIt-Anchor\" href=\"#安装相关依赖\">#</a> 安装相关依赖</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cnpm <span class=\"token function\">install</span></pre></td></tr></table></figure><h3 id=\"运行初步demo\"><a class=\"markdownIt-Anchor\" href=\"#运行初步demo\">#</a> 运行初步 demo</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cnpm run dev</pre></td></tr></table></figure><h3 id=\"用vscode终端输入来安装axios\"><a class=\"markdownIt-Anchor\" href=\"#用vscode终端输入来安装axios\">#</a> 用 vscode 终端输入来安装 axios</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>cnpm <span class=\"token function\">install</span> axios</pre></td></tr></table></figure><h3 id=\"在mainjs配置全局axios\"><a class=\"markdownIt-Anchor\" href=\"#在mainjs配置全局axios\">#</a> 在 main.js 配置全局 axios</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Vue</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>$axios <span class=\"token operator\">=</span> axios</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>axios<span class=\"token punctuation\">.</span>defaults<span class=\"token punctuation\">.</span>timeout <span class=\"token operator\">=</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>axios<span class=\"token punctuation\">.</span>defaults<span class=\"token punctuation\">.</span>baseURL <span class=\"token operator\">=</span> <span class=\"token string\">'http://接口地址:端口号/'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"在config文件夹中的indexjs中找到proxytable\"><a class=\"markdownIt-Anchor\" href=\"#在config文件夹中的indexjs中找到proxytable\">#</a> 在 config 文件夹中的 index.js 中找到 proxyTable</h3>\n<h3 id=\"改成这样\"><a class=\"markdownIt-Anchor\" href=\"#改成这样\">#</a> 改成这样</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>proxyTable<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token string\">'/api'</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    target<span class=\"token operator\">:</span><span class=\"token string\">\"http://接口地址:端口号/\"</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 接口地址</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    source<span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 如果是 https 接口，需要配置这个参数</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    changeOrigin<span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 允许跨域</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    ws<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 打开 websocket</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    pathRewrite<span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token string\">'^/api'</span><span class=\"token operator\">:</span><span class=\"token string\">'/'</span><span class=\"token comment\">// 把 target 用 api 来代替</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"然后开始调接口新建一个indexvue\"><a class=\"markdownIt-Anchor\" href=\"#然后开始调接口新建一个indexvue\">#</a> 然后开始调接口，新建一个 index.vue</h3>\n<h3 id=\"在router文件夹里面的indexjs配置如下\"><a class=\"markdownIt-Anchor\" href=\"#在router文件夹里面的indexjs配置如下\">#</a> 在 router 文件夹里面的 index.js 配置如下</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> Router <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">'@/components/HelloWorld'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> Index <span class=\"token keyword\">from</span> <span class=\"token string\">'@/components/Index'</span><span class=\"token comment\">// 注册组件</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Vue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Router<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      path<span class=\"token operator\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      name<span class=\"token operator\">:</span> <span class=\"token string\">'HelloWorld'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      component<span class=\"token operator\">:</span> HelloWorld</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      path<span class=\"token operator\">:</span> <span class=\"token string\">'/Index'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      name<span class=\"token operator\">:</span> <span class=\"token string\">'首页'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      component<span class=\"token operator\">:</span> Index</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"新页面结构如下\"><a class=\"markdownIt-Anchor\" href=\"#新页面结构如下\">#</a> 新页面结构如下</h3>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"hello\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    账号：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"username\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    密码：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span> v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"Login\"</span><span class=\"token operator\">></span>登录<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> Qs <span class=\"token keyword\">from</span> <span class=\"token string\">'qs'</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  name<span class=\"token operator\">:</span> <span class=\"token string\">'HelloWorld'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      username<span class=\"token operator\">:</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 绑定 v-model</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      password<span class=\"token operator\">:</span><span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  methods<span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token comment\">//post 方法</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token function\">Login</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/Admin/Login'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">//Qs.stringify 将对象序列化</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        Qs<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>          UserName<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span><span class=\"token comment\">// 参数取 input 框内的值</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>          Password<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>password</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>headers<span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span><span class=\"token string\">'application/x-www-form-urlencoded'</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token comment\">// 需要注意，post 方法需要加上这个 headers 头</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>code<span class=\"token operator\">!=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>          <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>res<span class=\"token punctuation\">.</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 接口错误弹出接口返回信息</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          <span class=\"token keyword\">var</span> token<span class=\"token operator\">=</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>adminToken<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 输出用户 token</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"没什么难点大部分时间花在了解决跨域的问题\"><a class=\"markdownIt-Anchor\" href=\"#没什么难点大部分时间花在了解决跨域的问题\">#</a> 没什么难点，大部分时间花在了解决跨域的问题</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/SQL/MySQL_MVC5_EF6/",
            "url": "https://blog.lovetianci.cn/SQL/MySQL_MVC5_EF6/",
            "title": "MVC连接MySQL教程",
            "date_published": "2020-04-14T16:16:16.000Z",
            "content_html": "<h2 id=\"记录一下mvcef连接mysql数据库需要安装的插件\"><a class=\"markdownIt-Anchor\" href=\"#记录一下mvcef连接mysql数据库需要安装的插件\">#</a> 记录一下 MVC+EF 连接 MySQL 数据库需要安装的插件</h2>\n<a id=\"more\"></a>\n<h3 id=\"准备以下文件\"><a class=\"markdownIt-Anchor\" href=\"#准备以下文件\">#</a> 准备以下文件</h3>\n<ol>\n<li><a href=\"mysql-connector-net-6.9.12.msi\" title=\"下载地址\">点击下载：mysql-connector-net-6.9.12.msi</a></li>\n<li><a href=\"mysql-for-visualstudio-1.2.8.msi\" title=\"下载地址\">点击下载：mysql-for-visualstudio-1.2.8.msi</a></li>\n<li>MySQL Data 和 MySQL Data Entity（NuGet 进行安装，这边装的版本都是 6.9.12）</li>\n</ol>\n<h3 id=\"在model文件夹右击添加新建项选择adonet实体数据模型\"><a class=\"markdownIt-Anchor\" href=\"#在model文件夹右击添加新建项选择adonet实体数据模型\">#</a> 在 model 文件夹右击添加新建项，选择 ADO.NET 实体数据模型</h3>\n<p><img data-src=\"model.png\" alt=\"&quot;选择ADO.NET&quot;\"></p>\n<h3 id=\"选择来自数据库的ef设计器\"><a class=\"markdownIt-Anchor\" href=\"#选择来自数据库的ef设计器\">#</a> 选择来自数据库的 EF 设计器</h3>\n<p><img data-src=\"from.png\" alt=\"&quot;选择内容&quot;\"></p>\n<h3 id=\"新建连接更改数据源选择mysql-database连接mysql服务器\"><a class=\"markdownIt-Anchor\" href=\"#新建连接更改数据源选择mysql-database连接mysql服务器\">#</a> 新建连接，更改数据源，选择 MySQL Database，连接 MySQL 服务器</h3>\n<p><img data-src=\"database.png\" alt=\"&quot;连接数据库&quot;\"></p>\n<h3 id=\"注意这里如果下一步时出现闪退则要检查mysql-data和mysql-data-entity版本\"><a class=\"markdownIt-Anchor\" href=\"#注意这里如果下一步时出现闪退则要检查mysql-data和mysql-data-entity版本\">#</a> 注意：这里如果下一步时，出现闪退，则要检查 MySQL Data 和 MySQL Data Entity 版本。</h3>\n<h3 id=\"选择所有表\"><a class=\"markdownIt-Anchor\" href=\"#选择所有表\">#</a> 选择所有表</h3>\n<p><img data-src=\"table.png\" alt=\"&quot;选择需要的表&quot;\"></p>\n<h3 id=\"然后点击完成即可生成\"><a class=\"markdownIt-Anchor\" href=\"#然后点击完成即可生成\">#</a> 然后点击完成即可生成</h3>\n<p><img data-src=\"modelentity.png\" alt=\"&quot;最后查看模型&quot;\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/CSharp_Remark_Attribute/",
            "url": "https://blog.lovetianci.cn/DotNET/CSharp_Remark_Attribute/",
            "title": "C# Reamrk特性",
            "date_published": "2020-04-03T11:11:11.000Z",
            "content_html": "<h2 id=\"remark特性的应用场景\"><a class=\"markdownIt-Anchor\" href=\"#remark特性的应用场景\">#</a> Remark 特性的应用场景</h2>\n<a id=\"more\"></a>\n<h3 id=\"场景一用户状态的枚举值定义的是英文的字段需要输出中文含义-枚举定义如下\"><a class=\"markdownIt-Anchor\" href=\"#场景一用户状态的枚举值定义的是英文的字段需要输出中文含义-枚举定义如下\">#</a> 场景一：用户状态的枚举值，定义的是英文的字段，需要输出中文含义。枚举定义如下：</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">UserState</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/// 正常</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    Normal <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">/// 冻结</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    Frozen <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\">/// 删除</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    Deleted <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"普通做法根据枚举值进行判断然后输出中文含义\"><a class=\"markdownIt-Anchor\" href=\"#普通做法根据枚举值进行判断然后输出中文含义\">#</a> 普通做法：根据枚举值进行判断，然后输出中文含义：</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">UserState</span> userState <span class=\"token operator\">=</span> UserState<span class=\"token punctuation\">.</span>Normal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>userState<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">case</span> UserState<span class=\"token punctuation\">.</span>Deleted<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"删除\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">case</span> UserState<span class=\"token punctuation\">.</span>Normal<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"正常\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">case</span> UserState<span class=\"token punctuation\">.</span>Frozen<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"冻结\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"这种写法违反开不原则不利于以后的扩展下面使用特性实现\"><a class=\"markdownIt-Anchor\" href=\"#这种写法违反开不原则不利于以后的扩展下面使用特性实现\">#</a> 这种写法违反开不原则，不利于以后的扩展，下面使用特性实现</h3>\n<h3 id=\"先定义remark特性\"><a class=\"markdownIt-Anchor\" href=\"#先定义remark特性\">#</a> 先定义 Remark 特性：</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Threading<span class=\"token punctuation\">.</span>Tasks</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">TianciAttribute</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/// 特性</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RemarkAttribute</span><span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">Attribute</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> _Remark <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">/// 有参构造函数</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">/// &lt;param name=\"remark\">&lt;/param></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token function\">RemarkAttribute</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> remark<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_Remark <span class=\"token operator\">=</span> remark<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">GetRemark</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">return</span> _Remark<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"userstate枚举修改如下\"><a class=\"markdownIt-Anchor\" href=\"#userstate枚举修改如下\">#</a> UserState 枚举修改如下：</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">UserState</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/// 正常</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">[</span><span class=\"token function\">Remark</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"正常\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    Normal <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">/// 冻结</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">[</span><span class=\"token function\">Remark</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"冻结\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    Frozen <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token comment\">/// 删除</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">[</span><span class=\"token function\">Remark</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"删除\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    Deleted <span class=\"token operator\">=</span> <span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"写一个扩展方法对enum类型进行扩展\"><a class=\"markdownIt-Anchor\" href=\"#写一个扩展方法对enum类型进行扩展\">#</a> 写一个扩展方法，对 Enum 类型进行扩展：</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Reflection</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Threading<span class=\"token punctuation\">.</span>Tasks</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">TianciAttribute</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RemarkExtension</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\">/// Enum 的扩展方法，静态类，静态方法，第一个参数前面添加 this</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token comment\">/// &lt;param name=\"value\">&lt;/param></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">GetRemark</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token class-name\">Enum</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            <span class=\"token comment\">// 获取类型</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token class-name\">Type</span> type <span class=\"token operator\">=</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">.</span><span class=\"token function\">GetType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token comment\">// 获取字段</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token class-name\">FieldInfo</span> fieId <span class=\"token operator\">=</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">GetField</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">value</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token comment\">// 判断字段上面是否定义了 ReamrkAttribute 特性</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fieId<span class=\"token punctuation\">.</span><span class=\"token function\">IsDefined</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">RemarkAttribute</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token comment\">// 创建实例</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token class-name\">RemarkAttribute</span> attribute <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>RemarkAttribute<span class=\"token punctuation\">)</span>fieId<span class=\"token punctuation\">.</span><span class=\"token function\">GetCustomAttribute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">RemarkAttribute</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>                <span class=\"token keyword\">return</span> attribute<span class=\"token punctuation\">.</span><span class=\"token function\">GetRemark</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"最后main方法里面调用\"><a class=\"markdownIt-Anchor\" href=\"#最后main方法里面调用\">#</a> 最后 Main () 方法里面调用</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Threading<span class=\"token punctuation\">.</span>Tasks</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">TianciAttribute</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Program</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token class-name\">UserState</span> userState <span class=\"token operator\">=</span> UserState<span class=\"token punctuation\">.</span>Normal<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>userState<span class=\"token punctuation\">.</span><span class=\"token function\">GetRemark</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>            Console<span class=\"token punctuation\">.</span><span class=\"token function\">ReadKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"输出结果\"><a class=\"markdownIt-Anchor\" href=\"#输出结果\">#</a> 输出结果</h3>\n<p><img data-src=\"Normal.png\" alt=\"输出结果\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/CSharp_Extension/",
            "url": "https://blog.lovetianci.cn/DotNET/CSharp_Extension/",
            "title": "C#扩展方法",
            "date_published": "2020-02-10T22:00:00.000Z",
            "content_html": "<h2 id=\"c扩展方法\"><a class=\"markdownIt-Anchor\" href=\"#c扩展方法\">#</a> C# 扩展方法</h2>\n<a id=\"more\"></a>\n<h2 id=\"定义\"><a class=\"markdownIt-Anchor\" href=\"#定义\">#</a> 定义</h2>\n<h3 id=\"1-声明扩展方法的类必须为static类\"><a class=\"markdownIt-Anchor\" href=\"#1-声明扩展方法的类必须为static类\">#</a> 1. 声明扩展方法的类必须为 static 类；</h3>\n<h3 id=\"2-扩展方法本身也必须声明为static\"><a class=\"markdownIt-Anchor\" href=\"#2-扩展方法本身也必须声明为static\">#</a> 2. 扩展方法本身也必须声明为 static；</h3>\n<h3 id=\"3-扩展方法必须包含关键字this作为第一个参数类型并在后面跟着它所扩展的类型的名称\"><a class=\"markdownIt-Anchor\" href=\"#3-扩展方法必须包含关键字this作为第一个参数类型并在后面跟着它所扩展的类型的名称\">#</a> 3. 扩展方法必须包含关键字 this 作为第一个参数类型，并在后面跟着它所扩展的类型的名称。</h3>\n<h2 id=\"开始操作\"><a class=\"markdownIt-Anchor\" href=\"#开始操作\">#</a> 开始操作</h2>\n<h3 id=\"先创建一个静态类叫stringextension\"><a class=\"markdownIt-Anchor\" href=\"#先创建一个静态类叫stringextension\">#</a> 先创建一个静态类叫 StringExtension</h3>\n<h3 id=\"然后简单写一个静态方法我这里写的是布尔用来判断入参是否等于1\"><a class=\"markdownIt-Anchor\" href=\"#然后简单写一个静态方法我这里写的是布尔用来判断入参是否等于1\">#</a> 然后简单写一个静态方法，我这里写的是布尔，用来判断入参是否等于 1</h3>\n<h3 id=\"控制器导入扩展方法所在的类的命名空间限制扩展方法的使用\"><a class=\"markdownIt-Anchor\" href=\"#控制器导入扩展方法所在的类的命名空间限制扩展方法的使用\">#</a> 控制器导入扩展方法所在的类的命名空间，限制扩展方法的使用</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">StringExtension</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">/// Remark：判断输入的是不是 1</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">/// &lt;param name=\"input\">&lt;/param></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> <span class=\"token function\">IsOne</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> input<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><!-- ![扩展方法](Extension.png \"扩展方法\") -->\n<h3 id=\"接口调用方法传参为1返回true\"><a class=\"markdownIt-Anchor\" href=\"#接口调用方法传参为1返回true\">#</a> 接口调用方法，传参为 1，返回 true</h3>\n<p><img data-src=\"code.png\" alt=\"调用接口\" title=\"调用接口\"></p>\n<h2 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结</h2>\n<h3 id=\"-扩展方法必须定义在静态类中扩展方法本身也是静态方法扩展方法也可以重载\"><a class=\"markdownIt-Anchor\" href=\"#-扩展方法必须定义在静态类中扩展方法本身也是静态方法扩展方法也可以重载\">#</a> - 扩展方法必须定义在静态类中，扩展方法本身也是静态方法，扩展方法也可以重载。</h3>\n<h3 id=\"-如果扩展方法和对应的类位于不同的命名空间使用时应引入扩展方法所在静态类的命名空间\"><a class=\"markdownIt-Anchor\" href=\"#-如果扩展方法和对应的类位于不同的命名空间使用时应引入扩展方法所在静态类的命名空间\">#</a> - 如果扩展方法和对应的类位于不同的命名空间，使用时应引入扩展方法所在静态类的命名空间。</h3>\n<h3 id=\"-当类本身的方法与扩展方法重名时类本身的方法被优先调用-建议通过命名空间的方式来限制扩展方法的使用\"><a class=\"markdownIt-Anchor\" href=\"#-当类本身的方法与扩展方法重名时类本身的方法被优先调用-建议通过命名空间的方式来限制扩展方法的使用\">#</a> - 当类本身的方法与扩展方法重名时，类本身的方法被优先调用。（建议通过命名空间的方式来限制扩展方法的使用）</h3>\n<h3 id=\"-扩展方法不要过多使用-尤其是系统定义的类不要随意增加扩展方法\"><a class=\"markdownIt-Anchor\" href=\"#-扩展方法不要过多使用-尤其是系统定义的类不要随意增加扩展方法\">#</a> - 扩展方法不要过多使用。尤其是系统定义的类，不要随意增加扩展方法。</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/DotNET/WebAPI_Exception/",
            "url": "https://blog.lovetianci.cn/DotNET/WebAPI_Exception/",
            "title": "WebAPI全局异常处理",
            "date_published": "2020-02-03T21:21:21.000Z",
            "content_html": "<h2 id=\"记录一下webapi的全局异常处理\"><a class=\"markdownIt-Anchor\" href=\"#记录一下webapi的全局异常处理\">#</a> 记录一下 WebAPI 的全局异常处理</h2>\n<a id=\"more\"></a>\n<h3 id=\"通常接口出现一些小错误页面会返回一堆看不懂的代码\"><a class=\"markdownIt-Anchor\" href=\"#通常接口出现一些小错误页面会返回一堆看不懂的代码\">#</a> 通常接口出现一些小错误，页面会返回一堆看不懂的代码</h3>\n<h3 id=\"这对于我们寻找错误并没有什么太大的帮助反而看着很难受\"><a class=\"markdownIt-Anchor\" href=\"#这对于我们寻找错误并没有什么太大的帮助反而看着很难受\">#</a> 这对于我们寻找错误并没有什么太大的帮助，反而看着很难受</h3>\n<p><img data-src=\"errormsg.png\" alt=\"错误信息\" title=\"错误信息\"></p>\n<h3 id=\"遇到这种情况我们可以写一个全局异常过滤器接口报错直接跳到过滤器\"><a class=\"markdownIt-Anchor\" href=\"#遇到这种情况我们可以写一个全局异常过滤器接口报错直接跳到过滤器\">#</a> 遇到这种情况我们可以写一个全局异常过滤器，接口报错直接跳到过滤器</h3>\n<h3 id=\"首先新建一个actionfilter类继承至exceptionfilterattribute\"><a class=\"markdownIt-Anchor\" href=\"#首先新建一个actionfilter类继承至exceptionfilterattribute\">#</a> 首先新建一个 ActionFilter 类，继承至 ExceptionFilterAttribute</h3>\n<h3 id=\"代码如下\"><a class=\"markdownIt-Anchor\" href=\"#代码如下\">#</a> 代码如下</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/// &lt;summary></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">/// Remark: 过滤掉 WebApi 接口的异常，统一返回异常信息</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">/// &lt;/summary></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ActionFilter</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">ExceptionFilterAttribute</span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpActionExecutedContext</span> context<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token comment\">// 记录错误日志</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">//LogHelper.Error($\"&#123;context.Exception &#125;\", context.Request.RequestUri.AbsolutePath);</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// 篡改 Response  </span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        context<span class=\"token punctuation\">.</span>Response <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">HttpResponseMessage</span><span class=\"token punctuation\">(</span>HttpStatusCode<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            Content <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringContent</span><span class=\"token punctuation\">(</span>JsonConvert<span class=\"token punctuation\">.</span><span class=\"token function\">SerializeObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                code <span class=\"token operator\">=</span> <span class=\"token string\">\"520\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                res <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    msg <span class=\"token operator\">=</span> <span class=\"token string\">\"接口有问题\"</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><!-- ![ActionFilter](code.png \"ActionFilter\") -->\n<h3 id=\"然后在webapiconfig类里面全局配置\"><a class=\"markdownIt-Anchor\" href=\"#然后在webapiconfig类里面全局配置\">#</a> 然后在 WebApiConfig 类里面全局配置</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebApiConfig</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Register</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpConfiguration</span> config<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// Web API 配置和服务</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\">// Web API 路由</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        config<span class=\"token punctuation\">.</span><span class=\"token function\">MapHttpAttributeRoutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        config<span class=\"token punctuation\">.</span>Routes<span class=\"token punctuation\">.</span><span class=\"token function\">MapHttpRoute</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"DefaultApi\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token named-parameter punctuation\">routeTemplate</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"api/&#123;controller&#125;/&#123;id&#125;\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token named-parameter punctuation\">defaults</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">&#123;</span> id <span class=\"token operator\">=</span> RouteParameter<span class=\"token punctuation\">.</span>Optional <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">// 全局注册异常过滤器</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        config<span class=\"token punctuation\">.</span>Filters<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ActionFilter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><!-- ![WebApiConfig](code2.png \"WebApiConfig\") -->\n<h3 id=\"只要接口出现异常就会跳到这个地方返回我们定义的信息\"><a class=\"markdownIt-Anchor\" href=\"#只要接口出现异常就会跳到这个地方返回我们定义的信息\">#</a> 只要接口出现异常就会跳到这个地方，返回我们定义的信息</h3>\n<p><img data-src=\"backmsg.png\" alt=\"返回信息\" title=\"返回信息\"></p>\n<h3 id=\"可以看到尽管接口已经抛出异常了但是网页返回的信息依旧是我所定义的\"><a class=\"markdownIt-Anchor\" href=\"#可以看到尽管接口已经抛出异常了但是网页返回的信息依旧是我所定义的\">#</a> 可以看到，尽管接口已经抛出异常了，但是网页返回的信息依旧是我所定义的</h3>\n<h3 id=\"错误信息可以打印到日志避免接口信息泄露具体打印日志下期再说\"><a class=\"markdownIt-Anchor\" href=\"#错误信息可以打印到日志避免接口信息泄露具体打印日志下期再说\">#</a> 错误信息可以打印到日志，避免接口信息泄露，具体打印日志下期再说</h3>\n<h1 id=\"学业繁忙告辞\"><a class=\"markdownIt-Anchor\" href=\"#学业繁忙告辞\">#</a> 学业繁忙，告辞</h1>\n<p><img data-src=\"byebye.jpg\" alt=\"告辞\" title=\"告辞\"></p>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Hexo/Hexo_Command/",
            "url": "https://blog.lovetianci.cn/Hexo/Hexo_Command/",
            "title": "Hexo文件操作",
            "date_published": "2020-01-13T20:00:00.000Z",
            "content_html": "<h2 id=\"搭建hexo静态博客难免会遇到小问题\"><a class=\"markdownIt-Anchor\" href=\"#搭建hexo静态博客难免会遇到小问题\">#</a> 搭建 Hexo 静态博客难免会遇到小问题</h2>\n<a id=\"more\"></a>\n<h3 id=\"今天讲一下遇到的一些小坑以及解决办法\"><a class=\"markdownIt-Anchor\" href=\"#今天讲一下遇到的一些小坑以及解决办法\">#</a> 今天讲一下遇到的一些小坑，以及解决办法</h3>\n<h3 id=\"通常博客里面会有一些其他小页面不是由hexo生成的页面例如life文件夹\"><a class=\"markdownIt-Anchor\" href=\"#通常博客里面会有一些其他小页面不是由hexo生成的页面例如life文件夹\">#</a> 通常博客里面会有一些其他小页面，不是由 hexo 生成的页面，例如 life 文件夹</h3>\n<p><img data-src=\"file.png\" alt=\"文件目录\" title=\"文件目录\"></p>\n<h3 id=\"那么这些页面放到public文件夹内每次hexo-clean都会被清除掉\"><a class=\"markdownIt-Anchor\" href=\"#那么这些页面放到public文件夹内每次hexo-clean都会被清除掉\">#</a> 那么这些页面放到 public 文件夹内，每次 hexo clean 都会被清除掉</h3>\n<h3 id=\"然后也不会上传到git那么这个应该怎么解决呢\"><a class=\"markdownIt-Anchor\" href=\"#然后也不会上传到git那么这个应该怎么解决呢\">#</a> 然后也不会上传到 git，那么这个应该怎么解决呢</h3>\n<h3 id=\"其实直接把文件夹拖到hexo下面的source下面\"><a class=\"markdownIt-Anchor\" href=\"#其实直接把文件夹拖到hexo下面的source下面\">#</a> 其实直接把文件夹拖到 hexo 下面的 source 下面</h3>\n<h3 id=\"跟_posts文件夹同级就行了\"><a class=\"markdownIt-Anchor\" href=\"#跟_posts文件夹同级就行了\">#</a> 跟_posts 文件夹同级就行了</h3>\n<p><img data-src=\"file2.png\" alt=\"文件目录\" title=\"文件目录\"></p>\n<h3 id=\"这样的话每次生成和上传就都会带上这个文件夹了\"><a class=\"markdownIt-Anchor\" href=\"#这样的话每次生成和上传就都会带上这个文件夹了\">#</a> 这样的话每次生成和上传就都会带上这个文件夹了</h3>\n<h3 id=\"但是又遇到一个新问题这是单独的页面\"><a class=\"markdownIt-Anchor\" href=\"#但是又遇到一个新问题这是单独的页面\">#</a> 但是又遇到一个新问题，这是单独的页面</h3>\n<h3 id=\"每次重新生成都会渲染上hexo的主题样式\"><a class=\"markdownIt-Anchor\" href=\"#每次重新生成都会渲染上hexo的主题样式\">#</a> 每次重新生成都会渲染上 hexo 的主题样式</h3>\n<h3 id=\"会导致这个单独的页面内容跑版怎么办呢\"><a class=\"markdownIt-Anchor\" href=\"#会导致这个单独的页面内容跑版怎么办呢\">#</a> 会导致这个单独的页面内容跑版，怎么办呢</h3>\n<h3 id=\"其实很简单找到_configyml下面的skip_render\"><a class=\"markdownIt-Anchor\" href=\"#其实很简单找到_configyml下面的skip_render\">#</a> 其实很简单，找到_config.yml 下面的 skip_render</h3>\n<h3 id=\"改成这个样子life为你的文件夹名\"><a class=\"markdownIt-Anchor\" href=\"#改成这个样子life为你的文件夹名\">#</a> 改成这个样子，life 为你的文件夹名</h3>\n<p><img data-src=\"code.png\" alt=\"_config.yml\" title=\"_config.yml\"></p>\n<h3 id=\"这样就大功告成了\"><a class=\"markdownIt-Anchor\" href=\"#这样就大功告成了\">#</a> 这样就大功告成了！！！</h3>\n",
            "tags": [
                "技术"
            ]
        },
        {
            "id": "https://blog.lovetianci.cn/Hexo/Hexo_Setup/",
            "url": "https://blog.lovetianci.cn/Hexo/Hexo_Setup/",
            "title": "Hexo安装与部署",
            "date_published": "2020-01-12T12:00:00.000Z",
            "content_html": "<h2 id=\"打开git-bash输入以下代码安装hexo\"><a class=\"markdownIt-Anchor\" href=\"#打开git-bash输入以下代码安装hexo\">#</a> 打开 Git Bash，输入以下代码安装 hexo</h2>\n<a id=\"more\"></a>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g hexo</pre></td></tr></table></figure><h3 id=\"安装完成在任意盘创建文件夹例如dhexo\"><a class=\"markdownIt-Anchor\" href=\"#安装完成在任意盘创建文件夹例如dhexo\">#</a> 安装完成在任意盘创建文件夹，例如 D:\\hexo</h3>\n<h3 id=\"再右击打开git-bash输入\"><a class=\"markdownIt-Anchor\" href=\"#再右击打开git-bash输入\">#</a> 再右击打开 Git Bash，输入</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token builtin class-name\">cd</span> D:<span class=\"token punctuation\">\\</span>hexo</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ hexo init</pre></td></tr></table></figure><h3 id=\"hexo会自动下载一些文件到这个目录\"><a class=\"markdownIt-Anchor\" href=\"#hexo会自动下载一些文件到这个目录\">#</a> hexo 会自动下载一些文件到这个目录</h3>\n<h3 id=\"然后继续输入\"><a class=\"markdownIt-Anchor\" href=\"#然后继续输入\">#</a> 然后继续输入</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git</pre></td></tr></table></figure><p><img data-src=\"file.png\" alt=\"文件目录\"></p>\n<h3 id=\"这个是因为等下提交代码需要此插件\"><a class=\"markdownIt-Anchor\" href=\"#这个是因为等下提交代码需要此插件\">#</a> 这个是因为等下提交代码需要此插件</h3>\n<h3 id=\"现在生成网站并预览\"><a class=\"markdownIt-Anchor\" href=\"#现在生成网站并预览\">#</a> 现在生成网站并预览</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo g</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ hexo s</pre></td></tr></table></figure><h3 id=\"进入浏览器输入localhost4000访问你的网站吧ctrlc停止预览\"><a class=\"markdownIt-Anchor\" href=\"#进入浏览器输入localhost4000访问你的网站吧ctrlc停止预览\">#</a> 进入浏览器输入<span class=\"exturl\" data-url=\"bG9jYWxob3N0OjQwMDA=\"> localhost:4000</span> 访问你的网站吧，Ctrl+C 停止预览</h3>\n<h3 id=\"在网上下一个主题然后放进hexo文件夹下面的theme文件夹里面\"><a class=\"markdownIt-Anchor\" href=\"#在网上下一个主题然后放进hexo文件夹下面的theme文件夹里面\">#</a> 在网上下一个主题然后放进 hexo 文件夹下面的 theme 文件夹里面</h3>\n<h3 id=\"修改hexo文件夹中_configyml文件里面的theme属性\"><a class=\"markdownIt-Anchor\" href=\"#修改hexo文件夹中_configyml文件里面的theme属性\">#</a> 修改 hexo 文件夹中_config.yml 文件里面的 theme 属性</h3>\n<h3 id=\"将原来的landscape改为你所下载主题的文件夹名打开git-bash重新生成并预览\"><a class=\"markdownIt-Anchor\" href=\"#将原来的landscape改为你所下载主题的文件夹名打开git-bash重新生成并预览\">#</a> 将原来的 landscape 改为你所下载主题的文件夹名，打开 Git Bash 重新生成并预览</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo g</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ hexo s</pre></td></tr></table></figure><h3 id=\"你会发现页面已经适应了你的主题\"><a class=\"markdownIt-Anchor\" href=\"#你会发现页面已经适应了你的主题\">#</a> 你会发现页面已经适应了你的主题</h3>\n<h3 id=\"之后打开hexo目录下的_configyml最后一段\"><a class=\"markdownIt-Anchor\" href=\"#之后打开hexo目录下的_configyml最后一段\">#</a> 之后打开 hexo 目录下的_config.yml 最后一段</h3>\n<p><img data-src=\"git.png\" alt=\"_config.yml\"></p>\n<h3 id=\"绑定你的github项目地址\"><a class=\"markdownIt-Anchor\" href=\"#绑定你的github项目地址\">#</a> 绑定你的 GitHub 项目地址</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ hexo clean</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ hexo g</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ hexo d</pre></td></tr></table></figure><h3 id=\"以上代码分别是清除public文件夹重新生成和提交代码到github\"><a class=\"markdownIt-Anchor\" href=\"#以上代码分别是清除public文件夹重新生成和提交代码到github\">#</a> 以上代码分别是清除 public 文件夹，重新生成，和提交代码到 GitHub</h3>\n<h3 id=\"然后上github你会发现存储库里面的文件都是public文件夹下面的\"><a class=\"markdownIt-Anchor\" href=\"#然后上github你会发现存储库里面的文件都是public文件夹下面的\">#</a> 然后上 GitHub 你会发现存储库里面的文件都是 public 文件夹下面的</h3>\n<h3 id=\"每次提交代码都只会提交此文件夹下的代码\"><a class=\"markdownIt-Anchor\" href=\"#每次提交代码都只会提交此文件夹下的代码\">#</a> 每次提交代码都只会提交此文件夹下的代码</h3>\n<h3 id=\"本期hexo安装与部署就到这里下期见\"><a class=\"markdownIt-Anchor\" href=\"#本期hexo安装与部署就到这里下期见\">#</a> 本期 hexo 安装与部署就到这里，下期见</h3>\n",
            "tags": [
                "技术"
            ]
        }
    ]
}